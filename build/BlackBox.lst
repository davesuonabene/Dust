ARM GAS  /tmp/ccWyZVAv.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 2
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"BlackBox.cpp"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "BlackBox.cpp"
  19              		.section	.text._ZN8HardwareD2Ev,"axG",%progbits,_ZN8HardwareD5Ev,comdat
  20              		.align	1
  21              		.p2align 2,,3
  22              		.weak	_ZN8HardwareD2Ev
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	_ZN8HardwareD2Ev:
  28              	.LVL0:
  29              	.LFB5555:
  30              		.file 2 "hw.h"
   1:hw.h          **** #pragma once
   2:hw.h          **** #include "daisy_seed.h"
   3:hw.h          **** #include "daisysp.h"
   4:hw.h          **** 
   5:hw.h          **** using namespace daisy;
   6:hw.h          **** using namespace daisysp;
   7:hw.h          **** 
   8:hw.h          **** // 20 seconds @ 48kHz = 960,000 samples
   9:hw.h          **** #define LOOPER_MAX_SAMPLES 960000
  10:hw.h          **** 
  11:hw.h          **** struct Hardware
  31              		.loc 2 11 8 view -0
  32              		.cfi_startproc
  33              		@ args = 0, pretend = 0, frame = 0
  34              		@ frame_needed = 0, uses_anonymous_args = 0
  35              		@ link register save eliminated.
  36              	.LBB296:
  37              	.LBB297:
  38              	.LBI297:
  39              		.file 3 "libDaisy/src/hid/switch.h"
   1:libDaisy/src/hid/switch.h **** #pragma once
   2:libDaisy/src/hid/switch.h **** #ifndef DSY_SWITCH_H
   3:libDaisy/src/hid/switch.h **** #define DSY_SWITCH_H
   4:libDaisy/src/hid/switch.h **** #include "daisy_core.h"
   5:libDaisy/src/hid/switch.h **** #include "per/gpio.h"
   6:libDaisy/src/hid/switch.h **** #include "sys/system.h"
   7:libDaisy/src/hid/switch.h **** 
   8:libDaisy/src/hid/switch.h **** namespace daisy
ARM GAS  /tmp/ccWyZVAv.s 			page 2


   9:libDaisy/src/hid/switch.h **** {
  10:libDaisy/src/hid/switch.h **** /** 
  11:libDaisy/src/hid/switch.h ****     Generic Class for handling momentary/latching switches \n 
  12:libDaisy/src/hid/switch.h ****     Inspired/influenced by Mutable Instruments (pichenettes) Switch classes
  13:libDaisy/src/hid/switch.h ****     @author Stephen Hensley
  14:libDaisy/src/hid/switch.h ****     @date December 2019
  15:libDaisy/src/hid/switch.h ****     @ingroup controls
  16:libDaisy/src/hid/switch.h **** */
  17:libDaisy/src/hid/switch.h **** class Switch
  18:libDaisy/src/hid/switch.h **** {
  19:libDaisy/src/hid/switch.h ****   public:
  20:libDaisy/src/hid/switch.h ****     /** Specifies the expected behavior of the switch */
  21:libDaisy/src/hid/switch.h ****     enum Type
  22:libDaisy/src/hid/switch.h ****     {
  23:libDaisy/src/hid/switch.h ****         TYPE_TOGGLE,    /**< & */
  24:libDaisy/src/hid/switch.h ****         TYPE_MOMENTARY, /**< & */
  25:libDaisy/src/hid/switch.h ****     };
  26:libDaisy/src/hid/switch.h ****     /** Specifies whether the pressed is HIGH or LOW. */
  27:libDaisy/src/hid/switch.h ****     enum Polarity
  28:libDaisy/src/hid/switch.h ****     {
  29:libDaisy/src/hid/switch.h ****         POLARITY_NORMAL,   /**< & */
  30:libDaisy/src/hid/switch.h ****         POLARITY_INVERTED, /**< & */
  31:libDaisy/src/hid/switch.h ****     };
  32:libDaisy/src/hid/switch.h **** 
  33:libDaisy/src/hid/switch.h ****     Switch() {}
  34:libDaisy/src/hid/switch.h ****     ~Switch() {}
  40              		.loc 3 34 5 view .LVU1
  41              		.loc 3 34 5 is_stmt 0 view .LVU2
  42              	.LBE297:
  43              	.LBB298:
  44              	.LBI298:
  45              		.loc 3 34 5 is_stmt 1 view .LVU3
  46              		.loc 3 34 5 is_stmt 0 view .LVU4
  47              	.LBE298:
  48              	.LBB299:
  49              	.LBI299:
  50              		.loc 3 34 5 is_stmt 1 view .LVU5
  51              		.loc 3 34 5 is_stmt 0 view .LVU6
  52              	.LBE299:
  53              	.LBB300:
  54              	.LBI300:
  55              		.file 4 "libDaisy/src/hid/encoder.h"
   1:libDaisy/src/hid/encoder.h **** #pragma once
   2:libDaisy/src/hid/encoder.h **** #ifndef DSY_ENCODER_H
   3:libDaisy/src/hid/encoder.h **** #define DSY_ENCODER_H
   4:libDaisy/src/hid/encoder.h **** #include "daisy_core.h"
   5:libDaisy/src/hid/encoder.h **** #include "per/gpio.h"
   6:libDaisy/src/hid/encoder.h **** #include "hid/switch.h"
   7:libDaisy/src/hid/encoder.h **** 
   8:libDaisy/src/hid/encoder.h **** namespace daisy
   9:libDaisy/src/hid/encoder.h **** {
  10:libDaisy/src/hid/encoder.h **** /** 
  11:libDaisy/src/hid/encoder.h ****     @brief Generic Class for handling Quadrature Encoders \n 
  12:libDaisy/src/hid/encoder.h ****     Inspired/influenced by Mutable Instruments (pichenettes) Encoder classes
  13:libDaisy/src/hid/encoder.h ****     @author Stephen Hensley
  14:libDaisy/src/hid/encoder.h ****     @date December 2019
  15:libDaisy/src/hid/encoder.h ****     @ingroup controls
ARM GAS  /tmp/ccWyZVAv.s 			page 3


  16:libDaisy/src/hid/encoder.h **** */
  17:libDaisy/src/hid/encoder.h **** class Encoder
  18:libDaisy/src/hid/encoder.h **** {
  19:libDaisy/src/hid/encoder.h ****   public:
  20:libDaisy/src/hid/encoder.h ****     Encoder() {}
  21:libDaisy/src/hid/encoder.h ****     ~Encoder() {}
  56              		.loc 4 21 5 is_stmt 1 view .LVU7
  57              	.LBB301:
  58              	.LBI301:
  59              		.loc 3 34 5 view .LVU8
  60              		.loc 3 34 5 is_stmt 0 view .LVU9
  61              	.LBE301:
  62              	.LBE300:
  63              	.LBB302:
  64              	.LBI302:
  65              		.loc 4 21 5 is_stmt 1 view .LVU10
  66              	.LBB303:
  67              	.LBI303:
  68              		.loc 3 34 5 view .LVU11
  69              		.loc 3 34 5 is_stmt 0 view .LVU12
  70              	.LBE303:
  71              	.LBE302:
  72              	.LBB304:
  73              	.LBI304:
  74              		.file 5 "libDaisy/src/daisy_seed.h"
   1:libDaisy/src/daisy_seed.h **** #pragma once
   2:libDaisy/src/daisy_seed.h **** #ifndef DSY_SEED_H
   3:libDaisy/src/daisy_seed.h **** #define DSY_SEED_H
   4:libDaisy/src/daisy_seed.h **** 
   5:libDaisy/src/daisy_seed.h **** #include "daisy.h"
   6:libDaisy/src/daisy_seed.h **** 
   7:libDaisy/src/daisy_seed.h **** //Uncomment this out if you're still using the rev2 hardware
   8:libDaisy/src/daisy_seed.h **** //#define SEED_REV2
   9:libDaisy/src/daisy_seed.h **** 
  10:libDaisy/src/daisy_seed.h **** namespace daisy
  11:libDaisy/src/daisy_seed.h **** {
  12:libDaisy/src/daisy_seed.h **** /**
  13:libDaisy/src/daisy_seed.h ****    @brief This is the higher-level interface for the Daisy board. \n 
  14:libDaisy/src/daisy_seed.h ****     All basic peripheral configuration/initialization is setup here. \n
  15:libDaisy/src/daisy_seed.h **** 
  16:libDaisy/src/daisy_seed.h ****    @ingroup boards
  17:libDaisy/src/daisy_seed.h **** */
  18:libDaisy/src/daisy_seed.h **** class DaisySeed
  19:libDaisy/src/daisy_seed.h **** {
  20:libDaisy/src/daisy_seed.h ****   public:
  21:libDaisy/src/daisy_seed.h ****     DaisySeed() {}
  22:libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
  75              		.loc 5 22 5 is_stmt 1 view .LVU13
  76              	.LBB305:
  77              	.LBI305:
  78              		.file 6 "libDaisy/src/dev/codec_ak4556.h"
   1:libDaisy/src/dev/codec_ak4556.h **** #pragma once
   2:libDaisy/src/dev/codec_ak4556.h **** #ifndef DSY_CODEC_AK4556_H
   3:libDaisy/src/dev/codec_ak4556.h **** #define DSY_CODEC_AK4556_H
   4:libDaisy/src/dev/codec_ak4556.h **** 
   5:libDaisy/src/dev/codec_ak4556.h **** #include "daisy_core.h"
   6:libDaisy/src/dev/codec_ak4556.h **** #include "per/gpio.h"
ARM GAS  /tmp/ccWyZVAv.s 			page 4


   7:libDaisy/src/dev/codec_ak4556.h **** 
   8:libDaisy/src/dev/codec_ak4556.h **** namespace daisy
   9:libDaisy/src/dev/codec_ak4556.h **** {
  10:libDaisy/src/dev/codec_ak4556.h **** /** @brief Ak4556 Codec support 
  11:libDaisy/src/dev/codec_ak4556.h ****  ** @author shensley
  12:libDaisy/src/dev/codec_ak4556.h ****  ** @addtogroup codec
  13:libDaisy/src/dev/codec_ak4556.h ****  ** 
  14:libDaisy/src/dev/codec_ak4556.h ****  ** I don't see any real reason to have this be more than a function, but in case we want
  15:libDaisy/src/dev/codec_ak4556.h ****  ** to add other functions down the road I wrapped the function in a class.
  16:libDaisy/src/dev/codec_ak4556.h ****  ***/
  17:libDaisy/src/dev/codec_ak4556.h **** class Ak4556
  18:libDaisy/src/dev/codec_ak4556.h **** {
  19:libDaisy/src/dev/codec_ak4556.h ****   public:
  20:libDaisy/src/dev/codec_ak4556.h ****     Ak4556() {}
  21:libDaisy/src/dev/codec_ak4556.h ****     ~Ak4556() {}
  79              		.loc 6 21 5 view .LVU14
  80              		.loc 6 21 5 is_stmt 0 view .LVU15
  81              	.LBE305:
  82              	.LBB306:
  83              	.LBI306:
  84              		.file 7 "libDaisy/src/sys/system.h"
   1:libDaisy/src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:libDaisy/src/sys/system.h **** #define DSY_SYSTEM_H
   3:libDaisy/src/sys/system.h **** 
   4:libDaisy/src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:libDaisy/src/sys/system.h **** 
   6:libDaisy/src/sys/system.h **** #include <cstdint>
   7:libDaisy/src/sys/system.h **** #include "per/tim.h"
   8:libDaisy/src/sys/system.h **** 
   9:libDaisy/src/sys/system.h **** namespace daisy
  10:libDaisy/src/sys/system.h **** {
  11:libDaisy/src/sys/system.h **** /** A handle for interacting with the Core System.
  12:libDaisy/src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:libDaisy/src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:libDaisy/src/sys/system.h ****  **
  15:libDaisy/src/sys/system.h ****  ** @author shensley
  16:libDaisy/src/sys/system.h ****  ** @ingroup system
  17:libDaisy/src/sys/system.h ****  */
  18:libDaisy/src/sys/system.h **** class System
  19:libDaisy/src/sys/system.h **** {
  20:libDaisy/src/sys/system.h ****   public:
  21:libDaisy/src/sys/system.h ****     /** Contains settings for initializing the System */
  22:libDaisy/src/sys/system.h ****     struct Config
  23:libDaisy/src/sys/system.h ****     {
  24:libDaisy/src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:libDaisy/src/sys/system.h ****         enum class SysClkFreq
  26:libDaisy/src/sys/system.h ****         {
  27:libDaisy/src/sys/system.h ****             FREQ_400MHZ,
  28:libDaisy/src/sys/system.h ****             FREQ_480MHZ,
  29:libDaisy/src/sys/system.h ****         };
  30:libDaisy/src/sys/system.h **** 
  31:libDaisy/src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:libDaisy/src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:libDaisy/src/sys/system.h ****          ** Cache Enabled
  34:libDaisy/src/sys/system.h ****          ** */
  35:libDaisy/src/sys/system.h ****         void Defaults()
  36:libDaisy/src/sys/system.h ****         {
ARM GAS  /tmp/ccWyZVAv.s 			page 5


  37:libDaisy/src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_400MHZ;
  38:libDaisy/src/sys/system.h ****             use_dcache  = true;
  39:libDaisy/src/sys/system.h ****             use_icache  = true;
  40:libDaisy/src/sys/system.h ****             skip_clocks = false;
  41:libDaisy/src/sys/system.h ****         }
  42:libDaisy/src/sys/system.h **** 
  43:libDaisy/src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  44:libDaisy/src/sys/system.h ****          ** CPU Freq set to 480MHz
  45:libDaisy/src/sys/system.h ****          ** Cache Enabled
  46:libDaisy/src/sys/system.h ****          ** */
  47:libDaisy/src/sys/system.h ****         void Boost()
  48:libDaisy/src/sys/system.h ****         {
  49:libDaisy/src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_480MHZ;
  50:libDaisy/src/sys/system.h ****             use_dcache  = true;
  51:libDaisy/src/sys/system.h ****             use_icache  = true;
  52:libDaisy/src/sys/system.h ****             skip_clocks = false;
  53:libDaisy/src/sys/system.h ****         }
  54:libDaisy/src/sys/system.h **** 
  55:libDaisy/src/sys/system.h ****         SysClkFreq cpu_freq;
  56:libDaisy/src/sys/system.h ****         bool       use_dcache;
  57:libDaisy/src/sys/system.h ****         bool       use_icache;
  58:libDaisy/src/sys/system.h ****         bool       skip_clocks;
  59:libDaisy/src/sys/system.h ****     };
  60:libDaisy/src/sys/system.h **** 
  61:libDaisy/src/sys/system.h ****     /** Describes the different regions of memory available to the Daisy */
  62:libDaisy/src/sys/system.h ****     enum MemoryRegion
  63:libDaisy/src/sys/system.h ****     {
  64:libDaisy/src/sys/system.h ****         INTERNAL_FLASH = 0,
  65:libDaisy/src/sys/system.h ****         ITCMRAM,
  66:libDaisy/src/sys/system.h ****         DTCMRAM,
  67:libDaisy/src/sys/system.h ****         SRAM_D1,
  68:libDaisy/src/sys/system.h ****         SRAM_D2,
  69:libDaisy/src/sys/system.h ****         SRAM_D3,
  70:libDaisy/src/sys/system.h ****         SDRAM,
  71:libDaisy/src/sys/system.h ****         QSPI,
  72:libDaisy/src/sys/system.h ****         INVALID_ADDRESS,
  73:libDaisy/src/sys/system.h ****     };
  74:libDaisy/src/sys/system.h **** 
  75:libDaisy/src/sys/system.h ****     /** Bootloader struct for controlling bootloading parameters */
  76:libDaisy/src/sys/system.h ****     struct BootInfo
  77:libDaisy/src/sys/system.h ****     {
  78:libDaisy/src/sys/system.h ****         enum class Type : uint32_t
  79:libDaisy/src/sys/system.h ****         {
  80:libDaisy/src/sys/system.h ****             INVALID      = 0x00000000,
  81:libDaisy/src/sys/system.h ****             JUMP         = 0xDEADBEEF,
  82:libDaisy/src/sys/system.h ****             SKIP_TIMEOUT = 0x5AFEB007,
  83:libDaisy/src/sys/system.h ****             INF_TIMEOUT  = 0xB0074EFA,
  84:libDaisy/src/sys/system.h ****         } status;
  85:libDaisy/src/sys/system.h ****         uint32_t data;
  86:libDaisy/src/sys/system.h ****         enum class Version : uint32_t
  87:libDaisy/src/sys/system.h ****         {
  88:libDaisy/src/sys/system.h ****             LT_v6_0 = 0, // Less than v6.0
  89:libDaisy/src/sys/system.h ****             NONE,        // No bootloader present
  90:libDaisy/src/sys/system.h ****             v6_0,        // v6.0
  91:libDaisy/src/sys/system.h ****             v6_1,        // v6.1 or greater
  92:libDaisy/src/sys/system.h ****             LAST
  93:libDaisy/src/sys/system.h ****         } version;
ARM GAS  /tmp/ccWyZVAv.s 			page 6


  94:libDaisy/src/sys/system.h ****     };
  95:libDaisy/src/sys/system.h **** 
  96:libDaisy/src/sys/system.h ****     System() {}
  97:libDaisy/src/sys/system.h ****     ~System() {}
  85              		.loc 7 97 5 is_stmt 1 view .LVU16
  86              		.loc 7 97 5 is_stmt 0 view .LVU17
  87              	.LBE306:
  88              	.LBB307:
  89              	.LBI307:
  90              		.file 8 "libDaisy/src/hid/usb.h"
   1:libDaisy/src/hid/usb.h **** #pragma once
   2:libDaisy/src/hid/usb.h **** #ifndef DSY_HID_USB_H
   3:libDaisy/src/hid/usb.h **** #define DSY_HID_USB_H
   4:libDaisy/src/hid/usb.h **** #include <stdint.h>
   5:libDaisy/src/hid/usb.h **** #include <stdlib.h>
   6:libDaisy/src/hid/usb.h **** 
   7:libDaisy/src/hid/usb.h **** namespace daisy
   8:libDaisy/src/hid/usb.h **** /** @addtogroup human_interface
   9:libDaisy/src/hid/usb.h ****     @{
  10:libDaisy/src/hid/usb.h **** */
  11:libDaisy/src/hid/usb.h **** 
  12:libDaisy/src/hid/usb.h **** {
  13:libDaisy/src/hid/usb.h **** /** 
  14:libDaisy/src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:libDaisy/src/hid/usb.h ****     @author Stephen Hensley
  16:libDaisy/src/hid/usb.h ****     @date December 2019
  17:libDaisy/src/hid/usb.h **** */
  18:libDaisy/src/hid/usb.h **** class UsbHandle
  19:libDaisy/src/hid/usb.h **** {
  20:libDaisy/src/hid/usb.h ****   public:
  21:libDaisy/src/hid/usb.h ****     /** Return values for USBHandle Functions */
  22:libDaisy/src/hid/usb.h ****     enum class Result
  23:libDaisy/src/hid/usb.h ****     {
  24:libDaisy/src/hid/usb.h ****         OK,
  25:libDaisy/src/hid/usb.h ****         ERR,
  26:libDaisy/src/hid/usb.h ****     };
  27:libDaisy/src/hid/usb.h **** 
  28:libDaisy/src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:libDaisy/src/hid/usb.h ****     enum UsbPeriph
  30:libDaisy/src/hid/usb.h ****     {
  31:libDaisy/src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:libDaisy/src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:libDaisy/src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:libDaisy/src/hid/usb.h ****     };
  35:libDaisy/src/hid/usb.h **** 
  36:libDaisy/src/hid/usb.h **** 
  37:libDaisy/src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:libDaisy/src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:libDaisy/src/hid/usb.h **** 
  40:libDaisy/src/hid/usb.h ****     UsbHandle() {}
  41:libDaisy/src/hid/usb.h **** 
  42:libDaisy/src/hid/usb.h ****     ~UsbHandle() {}
  91              		.loc 8 42 5 is_stmt 1 view .LVU18
  92              		.loc 8 42 5 is_stmt 0 view .LVU19
  93              	.LBE307:
  94              	.LBB308:
  95              	.LBI308:
ARM GAS  /tmp/ccWyZVAv.s 			page 7


  96              		.file 9 "libDaisy/src/per/adc.h"
   1:libDaisy/src/per/adc.h **** #pragma once
   2:libDaisy/src/per/adc.h **** #ifndef DSY_ADC_H
   3:libDaisy/src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:libDaisy/src/per/adc.h **** #include <stdint.h>
   5:libDaisy/src/per/adc.h **** #include <stdlib.h>
   6:libDaisy/src/per/adc.h **** #include "daisy_core.h"
   7:libDaisy/src/per/adc.h **** #include "per/gpio.h"
   8:libDaisy/src/per/adc.h **** 
   9:libDaisy/src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 16 /**< Maximum number of ADC channels */
  10:libDaisy/src/per/adc.h **** 
  11:libDaisy/src/per/adc.h **** namespace daisy
  12:libDaisy/src/per/adc.h **** {
  13:libDaisy/src/per/adc.h **** /** @addtogroup per_analog
  14:libDaisy/src/per/adc.h ****     @{
  15:libDaisy/src/per/adc.h **** */
  16:libDaisy/src/per/adc.h **** 
  17:libDaisy/src/per/adc.h **** /* While there may not be many configuration options here,
  18:libDaisy/src/per/adc.h **** using a struct like this allows us to add more configuration
  19:libDaisy/src/per/adc.h **** later without breaking existing functionality.
  20:libDaisy/src/per/adc.h **** */
  21:libDaisy/src/per/adc.h **** 
  22:libDaisy/src/per/adc.h **** /** @brief   Configuration Structure for an ADC Channel 
  23:libDaisy/src/per/adc.h ****  *  @details This can be used to configure a a single input, 
  24:libDaisy/src/per/adc.h ****  *           or a multiplexed input, allowing up to 8 inputs on 
  25:libDaisy/src/per/adc.h ****  *           one channel.
  26:libDaisy/src/per/adc.h ****  *  @note    Sharing data lines to multiple muxes _is_ possible, but
  27:libDaisy/src/per/adc.h ****  *           each channel sharing data lines must be set to the maximum
  28:libDaisy/src/per/adc.h ****  *           number of channels, even if some multiplexers have fewer
  29:libDaisy/src/per/adc.h ****  *           inputs connected.
  30:libDaisy/src/per/adc.h **** */
  31:libDaisy/src/per/adc.h **** struct AdcChannelConfig
  32:libDaisy/src/per/adc.h **** {
  33:libDaisy/src/per/adc.h ****     /** Which pin to use for multiplexing */
  34:libDaisy/src/per/adc.h ****     enum MuxPin
  35:libDaisy/src/per/adc.h ****     {
  36:libDaisy/src/per/adc.h ****         MUX_SEL_0,    /**< & */
  37:libDaisy/src/per/adc.h ****         MUX_SEL_1,    /**< & */
  38:libDaisy/src/per/adc.h ****         MUX_SEL_2,    /**< & */
  39:libDaisy/src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  40:libDaisy/src/per/adc.h ****     };
  41:libDaisy/src/per/adc.h **** 
  42:libDaisy/src/per/adc.h ****     /** \brief per channel conversion speed added to fixed time based on bitdepth, etc. */
  43:libDaisy/src/per/adc.h ****     enum ConversionSpeed
  44:libDaisy/src/per/adc.h ****     {
  45:libDaisy/src/per/adc.h ****         SPEED_1CYCLES_5,
  46:libDaisy/src/per/adc.h ****         SPEED_2CYCLES_5,
  47:libDaisy/src/per/adc.h ****         SPEED_8CYCLES_5,
  48:libDaisy/src/per/adc.h ****         SPEED_16CYCLES_5,
  49:libDaisy/src/per/adc.h ****         SPEED_32CYCLES_5,
  50:libDaisy/src/per/adc.h ****         SPEED_64CYCLES_5,
  51:libDaisy/src/per/adc.h ****         SPEED_387CYCLES_5,
  52:libDaisy/src/per/adc.h ****         SPEED_810CYCLES_5,
  53:libDaisy/src/per/adc.h ****     };
  54:libDaisy/src/per/adc.h **** 
  55:libDaisy/src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  56:libDaisy/src/per/adc.h ****     \param pin Pin to init.
ARM GAS  /tmp/ccWyZVAv.s 			page 8


  57:libDaisy/src/per/adc.h ****     \param speed conversion speed for this pin defaults to 8.5 cycles
  58:libDaisy/src/per/adc.h ****      */
  59:libDaisy/src/per/adc.h ****     void InitSingle(Pin pin, ConversionSpeed speed = SPEED_8CYCLES_5);
  60:libDaisy/src/per/adc.h **** 
  61:libDaisy/src/per/adc.h ****     /** 
  62:libDaisy/src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  63:libDaisy/src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  64:libDaisy/src/per/adc.h ****     You only need to supply the mux pins that are required,
  65:libDaisy/src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  66:libDaisy/src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  67:libDaisy/src/per/adc.h ****     \param adc_pin &
  68:libDaisy/src/per/adc.h ****     \param mux_channels must be 1-8
  69:libDaisy/src/per/adc.h ****     \param mux_0 First mux pin
  70:libDaisy/src/per/adc.h ****     \param mux_1 Second mux pin
  71:libDaisy/src/per/adc.h ****     \param mux_2 Third mux pin
  72:libDaisy/src/per/adc.h ****     \param speed conversion speed for this pin defaults to 8.5 cycles
  73:libDaisy/src/per/adc.h ****     */
  74:libDaisy/src/per/adc.h ****     void InitMux(Pin             adc_pin,
  75:libDaisy/src/per/adc.h ****                  size_t          mux_channels,
  76:libDaisy/src/per/adc.h ****                  Pin             mux_0,
  77:libDaisy/src/per/adc.h ****                  Pin             mux_1 = Pin(PORTX, 0),
  78:libDaisy/src/per/adc.h ****                  Pin             mux_2 = Pin(PORTX, 0),
  79:libDaisy/src/per/adc.h ****                  ConversionSpeed speed = SPEED_8CYCLES_5);
  80:libDaisy/src/per/adc.h **** 
  81:libDaisy/src/per/adc.h ****     GPIO            pin_;                   /**< & */
  82:libDaisy/src/per/adc.h ****     GPIO            mux_pin_[MUX_SEL_LAST]; /**< & */
  83:libDaisy/src/per/adc.h ****     uint8_t         mux_channels_;          /**< & */
  84:libDaisy/src/per/adc.h ****     ConversionSpeed speed_;
  85:libDaisy/src/per/adc.h **** };
  86:libDaisy/src/per/adc.h **** 
  87:libDaisy/src/per/adc.h **** /**
  88:libDaisy/src/per/adc.h ****    @brief Handler for analog to digital conversion
  89:libDaisy/src/per/adc.h **** */
  90:libDaisy/src/per/adc.h **** class AdcHandle
  91:libDaisy/src/per/adc.h **** {
  92:libDaisy/src/per/adc.h ****   public:
  93:libDaisy/src/per/adc.h ****     /** Supported oversampling amounts */
  94:libDaisy/src/per/adc.h ****     enum OverSampling
  95:libDaisy/src/per/adc.h ****     {
  96:libDaisy/src/per/adc.h ****         OVS_NONE, /**< & */
  97:libDaisy/src/per/adc.h ****         OVS_4,    /**< & */
  98:libDaisy/src/per/adc.h ****         OVS_8,    /**< & */
  99:libDaisy/src/per/adc.h ****         OVS_16,   /**< & */
 100:libDaisy/src/per/adc.h ****         OVS_32,   /**< & */
 101:libDaisy/src/per/adc.h ****         OVS_64,   /**< & */
 102:libDaisy/src/per/adc.h ****         OVS_128,  /**< & */
 103:libDaisy/src/per/adc.h ****         OVS_256,  /**< & */
 104:libDaisy/src/per/adc.h ****         OVS_512,  /**< & */
 105:libDaisy/src/per/adc.h ****         OVS_1024, /**< & */
 106:libDaisy/src/per/adc.h ****         OVS_LAST, /**< & */
 107:libDaisy/src/per/adc.h ****     };
 108:libDaisy/src/per/adc.h **** 
 109:libDaisy/src/per/adc.h ****     AdcHandle() {}
 110:libDaisy/src/per/adc.h ****     ~AdcHandle() {}
  97              		.loc 9 110 5 is_stmt 1 view .LVU20
  98              		.loc 9 110 5 is_stmt 0 view .LVU21
  99              	.LBE308:
ARM GAS  /tmp/ccWyZVAv.s 			page 9


 100              	.LBB309:
 101              	.LBI309:
 102              		.file 10 "libDaisy/src/hid/audio.h"
   1:libDaisy/src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:libDaisy/src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:libDaisy/src/hid/audio.h **** 
   4:libDaisy/src/hid/audio.h **** #include "per/sai.h"
   5:libDaisy/src/hid/audio.h **** 
   6:libDaisy/src/hid/audio.h **** namespace daisy
   7:libDaisy/src/hid/audio.h **** {
   8:libDaisy/src/hid/audio.h **** /** @brief Audio Engine Handle
   9:libDaisy/src/hid/audio.h ****  *  @ingroup audio 
  10:libDaisy/src/hid/audio.h ****  *  @details This class allows for higher level access to an audio engine.
  11:libDaisy/src/hid/audio.h ****  *           If you're using a SOM like the DaisySeed or DaisyPatchSM (or any 
  12:libDaisy/src/hid/audio.h ****  *            board that includes one of those objects) then the intialization
  13:libDaisy/src/hid/audio.h ****  *            is already taken  care of.
  14:libDaisy/src/hid/audio.h ****  *           If you're setting up your own custom hardware, or need to make changes
  15:libDaisy/src/hid/audio.h ****  *           you will have to take the following steps:
  16:libDaisy/src/hid/audio.h ****  *             1. Create and Initialize an SaiHandle or two depending on your requirements
  17:libDaisy/src/hid/audio.h ****  *             2. Initialize the Audio Handle with the desired settings and the Initialized SaiHand
  18:libDaisy/src/hid/audio.h ****  *             3. If the connected codec requires special configuration or initialization, do so
  19:libDaisy/src/hid/audio.h ****  *             4. Write a callback method using either the AudioCallback or the InterleavingAudioCa
  20:libDaisy/src/hid/audio.h ****  *             5. Start the Audio using one of the StartAudio function
  21:libDaisy/src/hid/audio.h ****  */
  22:libDaisy/src/hid/audio.h **** class AudioHandle
  23:libDaisy/src/hid/audio.h **** {
  24:libDaisy/src/hid/audio.h ****   public:
  25:libDaisy/src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  26:libDaisy/src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  27:libDaisy/src/hid/audio.h ****     struct Config
  28:libDaisy/src/hid/audio.h ****     {
  29:libDaisy/src/hid/audio.h ****         /** number of samples to process per callback */
  30:libDaisy/src/hid/audio.h ****         size_t blocksize = 48;
  31:libDaisy/src/hid/audio.h **** 
  32:libDaisy/src/hid/audio.h ****         /**< Sample rate of audio */
  33:libDaisy/src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate
  34:libDaisy/src/hid/audio.h ****             = SaiHandle::Config::SampleRate::SAI_48KHZ;
  35:libDaisy/src/hid/audio.h **** 
  36:libDaisy/src/hid/audio.h ****         /** factor for adjustment before and after callback for hardware that may have extra headro
  37:libDaisy/src/hid/audio.h ****         float postgain = 1.f;
  38:libDaisy/src/hid/audio.h **** 
  39:libDaisy/src/hid/audio.h ****         /** factor for additional one-sided compensation to audio path for hardware that may
  40:libDaisy/src/hid/audio.h ****          *  have unequal input/output ranges
  41:libDaisy/src/hid/audio.h ****          */
  42:libDaisy/src/hid/audio.h ****         float output_compensation = 1.f;
  43:libDaisy/src/hid/audio.h ****     };
  44:libDaisy/src/hid/audio.h **** 
  45:libDaisy/src/hid/audio.h ****     enum class Result
  46:libDaisy/src/hid/audio.h ****     {
  47:libDaisy/src/hid/audio.h ****         OK,
  48:libDaisy/src/hid/audio.h ****         ERR,
  49:libDaisy/src/hid/audio.h ****     };
  50:libDaisy/src/hid/audio.h **** 
  51:libDaisy/src/hid/audio.h ****     /** Non-Interleaving input buffer
  52:libDaisy/src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
  53:libDaisy/src/hid/audio.h ****      * const so that the user can't modify the input
  54:libDaisy/src/hid/audio.h ****      */
ARM GAS  /tmp/ccWyZVAv.s 			page 10


  55:libDaisy/src/hid/audio.h ****     typedef const float* const* InputBuffer;
  56:libDaisy/src/hid/audio.h **** 
  57:libDaisy/src/hid/audio.h ****     /** Non-Interleaving output buffer
  58:libDaisy/src/hid/audio.h ****      * Arranged by float[chn][sample] 
  59:libDaisy/src/hid/audio.h ****      */
  60:libDaisy/src/hid/audio.h ****     typedef float** OutputBuffer;
  61:libDaisy/src/hid/audio.h **** 
  62:libDaisy/src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  63:libDaisy/src/hid/audio.h ****      * Non-Interleaving audio callbacks in daisy will be of this type
  64:libDaisy/src/hid/audio.h ****      */
  65:libDaisy/src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
  66:libDaisy/src/hid/audio.h ****                                   OutputBuffer out,
  67:libDaisy/src/hid/audio.h ****                                   size_t       size);
  68:libDaisy/src/hid/audio.h **** 
  69:libDaisy/src/hid/audio.h ****     /** Interleaving Input buffer
  70:libDaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  71:libDaisy/src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  72:libDaisy/src/hid/audio.h ****     */
  73:libDaisy/src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
  74:libDaisy/src/hid/audio.h **** 
  75:libDaisy/src/hid/audio.h ****     /** Interleaving Output buffer 
  76:libDaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  77:libDaisy/src/hid/audio.h ****     */
  78:libDaisy/src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  79:libDaisy/src/hid/audio.h **** 
  80:libDaisy/src/hid/audio.h ****     /** Interleaving Audio Callback 
  81:libDaisy/src/hid/audio.h ****      * Interleaving audio callbacks in daisy must be of this type
  82:libDaisy/src/hid/audio.h ****      */
  83:libDaisy/src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  84:libDaisy/src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  85:libDaisy/src/hid/audio.h ****                                               size_t                   size);
  86:libDaisy/src/hid/audio.h **** 
  87:libDaisy/src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  88:libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 103              		.loc 10 88 5 is_stmt 1 view .LVU22
 104              		.loc 10 88 5 is_stmt 0 view .LVU23
 105              	.LBE309:
 106              	.LBE304:
 107              	.LBE296:
 108              		.loc 2 11 8 view .LVU24
 109 0000 7047     		bx	lr
 110              		.cfi_endproc
 111              	.LFE5555:
 113              		.weak	_ZN8HardwareD1Ev
 114              		.thumb_set _ZN8HardwareD1Ev,_ZN8HardwareD2Ev
 115 0002 00BF     		.section	.text._Z13AudioCallbackPKPKfPPfj,"ax",%progbits
 116              		.align	1
 117              		.p2align 2,,3
 118              		.global	_Z13AudioCallbackPKPKfPPfj
 119              		.syntax unified
 120              		.thumb
 121              		.thumb_func
 123              	_Z13AudioCallbackPKPKfPPfj:
 124              	.LVL1:
 125              	.LFB4949:
   1:BlackBox.cpp  **** #include "config.h"
   2:BlackBox.cpp  **** #include "hw.h"
ARM GAS  /tmp/ccWyZVAv.s 			page 11


   3:BlackBox.cpp  **** #include "screen.h"
   4:BlackBox.cpp  **** // #include "processing.h" 
   5:BlackBox.cpp  **** 
   6:BlackBox.cpp  **** static Hardware   g_hw;
   7:BlackBox.cpp  **** static Screen     g_screen;
   8:BlackBox.cpp  **** 
   9:BlackBox.cpp  **** // Audio Callback - Runs at high frequency (approx 1kHz - 48kHz depending on block size)
  10:BlackBox.cpp  **** void AudioCallback(AudioHandle::InputBuffer  in,
  11:BlackBox.cpp  ****                    AudioHandle::OutputBuffer out,
  12:BlackBox.cpp  ****                    size_t                    size)
  13:BlackBox.cpp  **** {
 126              		.loc 1 13 1 is_stmt 1 view -0
 127              		.cfi_startproc
 128              		@ args = 0, pretend = 0, frame = 0
 129              		@ frame_needed = 0, uses_anonymous_args = 0
  14:BlackBox.cpp  ****     // 1. Process Hardware here for accurate timing/debouncing
  15:BlackBox.cpp  ****     g_hw.ProcessTestControls();
 130              		.loc 1 15 5 view .LVU26
  13:BlackBox.cpp  ****     // 1. Process Hardware here for accurate timing/debouncing
 131              		.loc 1 13 1 is_stmt 0 view .LVU27
 132 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 133              		.cfi_def_cfa_offset 24
 134              		.cfi_offset 3, -24
 135              		.cfi_offset 4, -20
 136              		.cfi_offset 5, -16
 137              		.cfi_offset 6, -12
 138              		.cfi_offset 7, -8
 139              		.cfi_offset 14, -4
  13:BlackBox.cpp  ****     // 1. Process Hardware here for accurate timing/debouncing
 140              		.loc 1 13 1 view .LVU28
 141 0002 1546     		mov	r5, r2
 142 0004 0746     		mov	r7, r0
 143              		.loc 1 15 29 view .LVU29
 144 0006 0B48     		ldr	r0, .L11
 145              	.LVL2:
  13:BlackBox.cpp  ****     // 1. Process Hardware here for accurate timing/debouncing
 146              		.loc 1 13 1 view .LVU30
 147 0008 0E46     		mov	r6, r1
 148              		.loc 1 15 29 view .LVU31
 149 000a FFF7FEFF 		bl	_ZN8Hardware19ProcessTestControlsEv
 150              	.LVL3:
  16:BlackBox.cpp  **** 
  17:BlackBox.cpp  ****     // 2. Audio Pass-through Test
  18:BlackBox.cpp  ****     for(size_t i = 0; i < size; i++)
 151              		.loc 1 18 5 is_stmt 1 view .LVU32
 152              	.LBB310:
 153              		.loc 1 18 25 discriminator 1 view .LVU33
 154 000e 7DB1     		cbz	r5, .L3
 155 0010 3B68     		ldr	r3, [r7]
 156 0012 3468     		ldr	r4, [r6]
 157 0014 7868     		ldr	r0, [r7, #4]
 158 0016 03EB8502 		add	r2, r3, r5, lsl #2
 159 001a 7168     		ldr	r1, [r6, #4]
 160              	.LVL4:
 161              	.L5:
  19:BlackBox.cpp  ****     {
  20:BlackBox.cpp  ****         // Pass input directly to output
ARM GAS  /tmp/ccWyZVAv.s 			page 12


  21:BlackBox.cpp  ****         out[0][i] = in[0][i];
 162              		.loc 1 21 9 view .LVU34
 163              		.loc 1 21 28 is_stmt 0 view .LVU35
 164 001c 53F804CB 		ldr	ip, [r3], #4	@ float
 165              		.loc 1 21 19 view .LVU36
 166 0020 44F804CB 		str	ip, [r4], #4	@ float
  22:BlackBox.cpp  ****         out[1][i] = in[1][i];
 167              		.loc 1 22 9 is_stmt 1 view .LVU37
  18:BlackBox.cpp  ****     {
 168              		.loc 1 18 25 is_stmt 0 discriminator 1 view .LVU38
 169 0024 9342     		cmp	r3, r2
 170              		.loc 1 22 28 view .LVU39
 171 0026 50F804CB 		ldr	ip, [r0], #4	@ float
 172              		.loc 1 22 19 view .LVU40
 173 002a 41F804CB 		str	ip, [r1], #4	@ float
  18:BlackBox.cpp  ****     {
 174              		.loc 1 18 5 is_stmt 1 discriminator 3 view .LVU41
  18:BlackBox.cpp  ****     {
 175              		.loc 1 18 25 discriminator 1 view .LVU42
 176 002e F5D1     		bne	.L5
 177              	.L3:
 178              	.LBE310:
  23:BlackBox.cpp  ****     }
  24:BlackBox.cpp  **** }
 179              		.loc 1 24 1 is_stmt 0 view .LVU43
 180 0030 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 181              	.LVL5:
 182              	.L12:
 183              		.loc 1 24 1 view .LVU44
 184 0032 00BF     		.align	2
 185              	.L11:
 186 0034 00000000 		.word	_ZL4g_hw
 187              		.cfi_endproc
 188              	.LFE4949:
 190              		.section	.text.startup.main,"ax",%progbits
 191              		.align	1
 192              		.p2align 2,,3
 193              		.global	main
 194              		.syntax unified
 195              		.thumb
 196              		.thumb_func
 198              	main:
 199              	.LFB4950:
  25:BlackBox.cpp  **** 
  26:BlackBox.cpp  **** int main(void)
  27:BlackBox.cpp  **** {
 200              		.loc 1 27 1 is_stmt 1 view -0
 201              		.cfi_startproc
 202              		@ Volatile: function does not return.
 203              		@ args = 0, pretend = 0, frame = 0
 204              		@ frame_needed = 0, uses_anonymous_args = 0
  28:BlackBox.cpp  ****     // Initialize Hardware
  29:BlackBox.cpp  ****     g_hw.Init();
 205              		.loc 1 29 5 view .LVU46
 206              		.loc 1 29 14 is_stmt 0 view .LVU47
 207 0000 0948     		ldr	r0, .L16
  27:BlackBox.cpp  ****     // Initialize Hardware
ARM GAS  /tmp/ccWyZVAv.s 			page 13


 208              		.loc 1 27 1 view .LVU48
 209 0002 08B5     		push	{r3, lr}
 210              		.cfi_def_cfa_offset 8
 211              		.cfi_offset 3, -8
 212              		.cfi_offset 14, -4
 213              		.loc 1 29 14 view .LVU49
 214 0004 FFF7FEFF 		bl	_ZN8Hardware4InitEv
 215              	.LVL6:
  30:BlackBox.cpp  ****     g_screen.Init(g_hw.seed);
 216              		.loc 1 30 5 is_stmt 1 view .LVU50
 217              		.loc 1 30 18 is_stmt 0 view .LVU51
 218 0008 0749     		ldr	r1, .L16
 219 000a 0848     		ldr	r0, .L16+4
 220 000c FFF7FEFF 		bl	_ZN6Screen4InitERN5daisy9DaisySeedE
 221              	.LVL7:
  31:BlackBox.cpp  **** 
  32:BlackBox.cpp  ****     // Start the Audio Callback
  33:BlackBox.cpp  ****     g_hw.seed.StartAudio(AudioCallback);
 222              		.loc 1 33 5 is_stmt 1 view .LVU52
 223              		.loc 1 33 25 is_stmt 0 view .LVU53
 224 0010 0749     		ldr	r1, .L16+8
 225 0012 0548     		ldr	r0, .L16
 226 0014 FFF7FEFF 		bl	_ZN5daisy9DaisySeed10StartAudioEPFvPKPKfPPfjE
 227              	.LVL8:
 228              	.L14:
  34:BlackBox.cpp  **** 
  35:BlackBox.cpp  ****     while(1)
 229              		.loc 1 35 5 is_stmt 1 view .LVU54
  36:BlackBox.cpp  ****     {
  37:BlackBox.cpp  ****         // Update Screen with Test UI (Low priority, ~30fps)
  38:BlackBox.cpp  ****         g_screen.DrawHardwareTest(g_hw);
 230              		.loc 1 38 9 view .LVU55
 231              		.loc 1 38 34 is_stmt 0 view .LVU56
 232 0018 0349     		ldr	r1, .L16
 233 001a 0448     		ldr	r0, .L16+4
 234 001c FFF7FEFF 		bl	_ZN6Screen16DrawHardwareTestER8Hardware
 235              	.LVL9:
  39:BlackBox.cpp  ****         
  40:BlackBox.cpp  ****         // Delay to throttle screen updates
  41:BlackBox.cpp  ****         System::Delay(33);
 236              		.loc 1 41 9 is_stmt 1 discriminator 1 view .LVU57
 237              		.loc 1 41 22 is_stmt 0 discriminator 1 view .LVU58
 238 0020 2120     		movs	r0, #33
 239 0022 FFF7FEFF 		bl	_ZN5daisy6System5DelayEm
 240              	.LVL10:
  35:BlackBox.cpp  ****     {
 241              		.loc 1 35 5 is_stmt 1 view .LVU59
 242 0026 F7E7     		b	.L14
 243              	.L17:
 244              		.align	2
 245              	.L16:
 246 0028 00000000 		.word	_ZL4g_hw
 247 002c 00000000 		.word	_ZL8g_screen
 248 0030 00000000 		.word	_Z13AudioCallbackPKPKfPPfj
 249              		.cfi_endproc
 250              	.LFE4950:
 252              		.section	.text.startup._GLOBAL__sub_I__Z13AudioCallbackPKPKfPPfj,"ax",%progbits
ARM GAS  /tmp/ccWyZVAv.s 			page 14


 253              		.align	1
 254              		.p2align 2,,3
 255              		.syntax unified
 256              		.thumb
 257              		.thumb_func
 259              	_GLOBAL__sub_I__Z13AudioCallbackPKPKfPPfj:
 260              	.LFB5557:
  42:BlackBox.cpp  ****     }
  43:BlackBox.cpp  **** }...
 261              		.loc 1 43 1 view -0
 262              		.cfi_startproc
 263              		@ args = 0, pretend = 0, frame = 0
 264              		@ frame_needed = 0, uses_anonymous_args = 0
 265              		@ link register save eliminated.
 266              	.LBB466:
 267              	.LBI466:
 268              		.loc 1 43 1 view .LVU61
 269              	.LVL11:
 270              	.LBB467:
 271              	.LBB468:
 272              	.LBI468:
 273              		.loc 2 11 8 view .LVU62
 274              	.LBB469:
 275              	.LBB470:
 276              	.LBI470:
  21:libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 277              		.loc 5 21 5 view .LVU63
 278              	.LBB471:
 279              	.LBB472:
 280              	.LBI472:
 281              		.file 11 "libDaisy/src/per/qspi.h"
   1:libDaisy/src/per/qspi.h **** #ifndef DSY_QSPI
   2:libDaisy/src/per/qspi.h **** #define DSY_QSPI /**< Macro */
   3:libDaisy/src/per/qspi.h **** 
   4:libDaisy/src/per/qspi.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation
   5:libDaisy/src/per/qspi.h **** 
   6:libDaisy/src/per/qspi.h **** #include <cstdint>
   7:libDaisy/src/per/qspi.h **** #include "daisy_core.h"
   8:libDaisy/src/per/qspi.h **** #include "util/hal_map.h"
   9:libDaisy/src/per/qspi.h **** 
  10:libDaisy/src/per/qspi.h **** #define DSY_QSPI_TEXT       \
  11:libDaisy/src/per/qspi.h ****     __attribute__((section( \
  12:libDaisy/src/per/qspi.h ****         ".qspiflash_text"))) /**< used for reading memory in memory_mapped mode. */
  13:libDaisy/src/per/qspi.h **** #define DSY_QSPI_DATA       \
  14:libDaisy/src/per/qspi.h ****     __attribute__((section( \
  15:libDaisy/src/per/qspi.h ****         ".qspiflash_data"))) /**< used for reading memory in memory_mapped mode. */
  16:libDaisy/src/per/qspi.h **** #define DSY_QSPI_BSS        \
  17:libDaisy/src/per/qspi.h ****     __attribute__((section( \
  18:libDaisy/src/per/qspi.h ****         ".qspiflash_bss"))) /**< used for reading memory in memory_mapped mode. */
  19:libDaisy/src/per/qspi.h **** 
  20:libDaisy/src/per/qspi.h **** namespace daisy
  21:libDaisy/src/per/qspi.h **** {
  22:libDaisy/src/per/qspi.h **** /** @addtogroup serial
  23:libDaisy/src/per/qspi.h **** @{
  24:libDaisy/src/per/qspi.h **** */
  25:libDaisy/src/per/qspi.h **** 
  26:libDaisy/src/per/qspi.h **** /**
ARM GAS  /tmp/ccWyZVAv.s 			page 15


  27:libDaisy/src/per/qspi.h ****  Driver for QSPI peripheral to interface with external flash memory. \n
  28:libDaisy/src/per/qspi.h ****     Currently supported QSPI Devices: \n
  29:libDaisy/src/per/qspi.h ****     * IS25LP080D
  30:libDaisy/src/per/qspi.h **** */
  31:libDaisy/src/per/qspi.h **** class QSPIHandle
  32:libDaisy/src/per/qspi.h **** {
  33:libDaisy/src/per/qspi.h ****   public:
  34:libDaisy/src/per/qspi.h ****     enum Result
  35:libDaisy/src/per/qspi.h ****     {
  36:libDaisy/src/per/qspi.h ****         OK = 0,
  37:libDaisy/src/per/qspi.h ****         ERR
  38:libDaisy/src/per/qspi.h ****     };
  39:libDaisy/src/per/qspi.h **** 
  40:libDaisy/src/per/qspi.h ****     /** Indicates the current status of the module.
  41:libDaisy/src/per/qspi.h ****          *  Warnings are indicated by a leading W.
  42:libDaisy/src/per/qspi.h ****          *  Errors are indicated by a leading E and cause an immediate exit.
  43:libDaisy/src/per/qspi.h ****          *
  44:libDaisy/src/per/qspi.h ****          *  \param GOOD - No errors have been reported.
  45:libDaisy/src/per/qspi.h ****          *  \param E_HAL_ERROR - HAL code did not return HAL_OK.
  46:libDaisy/src/per/qspi.h ****          *  \param E_SWITCHING_MODES - An error was encountered while switching QSPI peripheral mod
  47:libDaisy/src/per/qspi.h ****          *  \param E_INVALID_MODE - QSPI should not be written to while the program is executing fr
  48:libDaisy/src/per/qspi.h ****          */
  49:libDaisy/src/per/qspi.h ****     enum Status
  50:libDaisy/src/per/qspi.h ****     {
  51:libDaisy/src/per/qspi.h ****         GOOD = 0,
  52:libDaisy/src/per/qspi.h ****         E_HAL_ERROR,
  53:libDaisy/src/per/qspi.h ****         E_SWITCHING_MODES,
  54:libDaisy/src/per/qspi.h ****         E_INVALID_MODE,
  55:libDaisy/src/per/qspi.h ****     };
  56:libDaisy/src/per/qspi.h **** 
  57:libDaisy/src/per/qspi.h ****     /** Configuration structure for interfacing with QSPI Driver */
  58:libDaisy/src/per/qspi.h ****     struct Config
  59:libDaisy/src/per/qspi.h ****     {
  60:libDaisy/src/per/qspi.h ****         /** Flash Devices supported. (Both of these are more-or-less the same, just different sizes
  61:libDaisy/src/per/qspi.h ****         enum Device
  62:libDaisy/src/per/qspi.h ****         {
  63:libDaisy/src/per/qspi.h ****             IS25LP080D,  /**< & */
  64:libDaisy/src/per/qspi.h ****             IS25LP064A,  /**< & */
  65:libDaisy/src/per/qspi.h ****             DEVICE_LAST, /**< & */
  66:libDaisy/src/per/qspi.h ****         };
  67:libDaisy/src/per/qspi.h **** 
  68:libDaisy/src/per/qspi.h ****         /**
  69:libDaisy/src/per/qspi.h ****         Modes of operation.
  70:libDaisy/src/per/qspi.h ****         Memory Mapped mode: QSPI configured so that the QSPI can be
  71:libDaisy/src/per/qspi.h ****         read from starting address 0x90000000. Writing is not
  72:libDaisy/src/per/qspi.h ****         possible in this mode. \n
  73:libDaisy/src/per/qspi.h ****         Indirect Polling mode: Device driver enabled.
  74:libDaisy/src/per/qspi.h ****         */
  75:libDaisy/src/per/qspi.h ****         enum Mode
  76:libDaisy/src/per/qspi.h ****         {
  77:libDaisy/src/per/qspi.h ****             MEMORY_MAPPED,    /**< & */
  78:libDaisy/src/per/qspi.h ****             INDIRECT_POLLING, /**< & */
  79:libDaisy/src/per/qspi.h ****             MODE_LAST,
  80:libDaisy/src/per/qspi.h ****         };
  81:libDaisy/src/per/qspi.h **** 
  82:libDaisy/src/per/qspi.h ****         //SCK,  CE# (active low)
  83:libDaisy/src/per/qspi.h ****         struct
ARM GAS  /tmp/ccWyZVAv.s 			page 16


  84:libDaisy/src/per/qspi.h ****         {
  85:libDaisy/src/per/qspi.h ****             Pin io0; /**< & */
  86:libDaisy/src/per/qspi.h ****             Pin io1; /**< & */
  87:libDaisy/src/per/qspi.h ****             Pin io2; /**< & */
  88:libDaisy/src/per/qspi.h ****             Pin io3; /**< & */
  89:libDaisy/src/per/qspi.h ****             Pin clk; /**< & */
  90:libDaisy/src/per/qspi.h ****             Pin ncs; /**< & */
  91:libDaisy/src/per/qspi.h ****         } pin_config;
  92:libDaisy/src/per/qspi.h **** 
  93:libDaisy/src/per/qspi.h ****         Device device;
  94:libDaisy/src/per/qspi.h ****         Mode   mode;
  95:libDaisy/src/per/qspi.h ****     };
  96:libDaisy/src/per/qspi.h **** 
  97:libDaisy/src/per/qspi.h ****     /**
  98:libDaisy/src/per/qspi.h ****         Initializes QSPI peripheral, and Resets, and prepares memory for access.
  99:libDaisy/src/per/qspi.h ****         \param config should be populated with the mode, device and pin_config before calling this 
 100:libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 101:libDaisy/src/per/qspi.h ****         */
 102:libDaisy/src/per/qspi.h ****     Result Init(const Config& config);
 103:libDaisy/src/per/qspi.h **** 
 104:libDaisy/src/per/qspi.h ****     /** Returns the current config. */
 105:libDaisy/src/per/qspi.h ****     const Config& GetConfig() const;
 106:libDaisy/src/per/qspi.h **** 
 107:libDaisy/src/per/qspi.h ****     // Couldn't this just be called before anything else in init? That
 108:libDaisy/src/per/qspi.h ****     // would make manually calling it unnecessary.
 109:libDaisy/src/per/qspi.h ****     /**
 110:libDaisy/src/per/qspi.h ****         Deinitializes the peripheral
 111:libDaisy/src/per/qspi.h ****         This should be called before reinitializing QSPI in a different mode.
 112:libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 113:libDaisy/src/per/qspi.h ****         */
 114:libDaisy/src/per/qspi.h ****     Result DeInit();
 115:libDaisy/src/per/qspi.h **** 
 116:libDaisy/src/per/qspi.h ****     /**
 117:libDaisy/src/per/qspi.h ****         Writes a single page to to the specified address on the QSPI chip.
 118:libDaisy/src/per/qspi.h ****         For IS25LP*, page size is 256 bytes.
 119:libDaisy/src/per/qspi.h ****         \param address Address to write to
 120:libDaisy/src/per/qspi.h ****         \param size Buffer size
 121:libDaisy/src/per/qspi.h ****         \param buffer Buffer to write
 122:libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 123:libDaisy/src/per/qspi.h ****         */
 124:libDaisy/src/per/qspi.h ****     Result WritePage(uint32_t address, uint32_t size, uint8_t* buffer);
 125:libDaisy/src/per/qspi.h **** 
 126:libDaisy/src/per/qspi.h ****     /**
 127:libDaisy/src/per/qspi.h ****         Writes data in buffer to to the QSPI. Starting at address to address+size
 128:libDaisy/src/per/qspi.h ****         \param address Address to write to
 129:libDaisy/src/per/qspi.h ****         \param size Buffer size
 130:libDaisy/src/per/qspi.h ****         \param buffer Buffer to write
 131:libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 132:libDaisy/src/per/qspi.h ****         */
 133:libDaisy/src/per/qspi.h ****     Result Write(uint32_t address, uint32_t size, uint8_t* buffer);
 134:libDaisy/src/per/qspi.h **** 
 135:libDaisy/src/per/qspi.h ****     /**
 136:libDaisy/src/per/qspi.h ****         Erases the area specified on the chip.
 137:libDaisy/src/per/qspi.h ****         Erasures will happen by 4K, 32K or 64K increments.
 138:libDaisy/src/per/qspi.h ****         Smallest erase possible is 4kB at a time. (on IS25LP*)
 139:libDaisy/src/per/qspi.h ****         \param start_addr Address to begin erasing from
 140:libDaisy/src/per/qspi.h ****         \param end_addr  Address to stop erasing at
ARM GAS  /tmp/ccWyZVAv.s 			page 17


 141:libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 142:libDaisy/src/per/qspi.h ****         */
 143:libDaisy/src/per/qspi.h ****     Result Erase(uint32_t start_addr, uint32_t end_addr);
 144:libDaisy/src/per/qspi.h **** 
 145:libDaisy/src/per/qspi.h ****     /**
 146:libDaisy/src/per/qspi.h ****          Erases a single sector of the chip.
 147:libDaisy/src/per/qspi.h ****         TODO: Document the size of this function.
 148:libDaisy/src/per/qspi.h ****         \param address Address of sector to erase
 149:libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 150:libDaisy/src/per/qspi.h ****         */
 151:libDaisy/src/per/qspi.h ****     Result EraseSector(uint32_t address);
 152:libDaisy/src/per/qspi.h **** 
 153:libDaisy/src/per/qspi.h ****     /** Returns the current class status. Useful for debugging.
 154:libDaisy/src/per/qspi.h ****      *  \returns Status
 155:libDaisy/src/per/qspi.h ****      */
 156:libDaisy/src/per/qspi.h ****     Status GetStatus();
 157:libDaisy/src/per/qspi.h **** 
 158:libDaisy/src/per/qspi.h ****     /** Returns a pointer to the actual memory used
 159:libDaisy/src/per/qspi.h ****      *  The memory at this address is read-only
 160:libDaisy/src/per/qspi.h ****      *  to write to it use the Write function.
 161:libDaisy/src/per/qspi.h ****      *
 162:libDaisy/src/per/qspi.h ****      *  \param offset returns the pointer starting this
 163:libDaisy/src/per/qspi.h ****      *                many bytes into the memory
 164:libDaisy/src/per/qspi.h ****     */
 165:libDaisy/src/per/qspi.h ****     void* GetData(uint32_t offset = 0);
 166:libDaisy/src/per/qspi.h **** 
 167:libDaisy/src/per/qspi.h ****     QSPIHandle() : pimpl_(nullptr) {}
 282              		.loc 11 167 5 view .LVU64
 283              	.LBB473:
 284              	.LBB474:
 285              		.loc 11 167 20 is_stmt 0 view .LVU65
 286 0000 0023     		movs	r3, #0
 287              	.LBE474:
 288              	.LBE473:
 289              	.LBE472:
 290              	.LBB477:
 291              	.LBB478:
 292              	.LBB479:
 293              	.LBB480:
 294              	.LBB481:
 295              	.LBB482:
 296              	.LBB483:
 297              	.LBB484:
 298              		.file 12 "libDaisy/src/daisy_core.h"
   1:libDaisy/src/daisy_core.h **** #pragma once
   2:libDaisy/src/daisy_core.h **** #ifndef DSY_CORE_HW_H
   3:libDaisy/src/daisy_core.h **** #define DSY_CORE_HW_H /**< & */
   4:libDaisy/src/daisy_core.h **** #include <stdint.h>
   5:libDaisy/src/daisy_core.h **** #include <stdlib.h>
   6:libDaisy/src/daisy_core.h **** 
   7:libDaisy/src/daisy_core.h **** #if defined(_MSC_VER)
   8:libDaisy/src/daisy_core.h **** #define FORCE_INLINE __forceinline /**< & */
   9:libDaisy/src/daisy_core.h **** #elif defined(__clang__)
  10:libDaisy/src/daisy_core.h **** #define FORCE_INLINE inline __attribute__((always_inline)) /**< & */
  11:libDaisy/src/daisy_core.h **** #pragma clang diagnostic ignored "-Wduplicate-decl-specifier"
  12:libDaisy/src/daisy_core.h **** #elif defined(__GNUC__)
  13:libDaisy/src/daisy_core.h **** #define FORCE_INLINE inline __attribute__((always_inline)) /**< & */
ARM GAS  /tmp/ccWyZVAv.s 			page 18


  14:libDaisy/src/daisy_core.h **** #else
  15:libDaisy/src/daisy_core.h **** #error unknown compiler
  16:libDaisy/src/daisy_core.h **** #endif
  17:libDaisy/src/daisy_core.h **** 
  18:libDaisy/src/daisy_core.h **** /** @addtogroup utility
  19:libDaisy/src/daisy_core.h ****     @{
  20:libDaisy/src/daisy_core.h **** */
  21:libDaisy/src/daisy_core.h **** 
  22:libDaisy/src/daisy_core.h **** /** Macro for area of memory that is configured as cacheless
  23:libDaisy/src/daisy_core.h **** This should be used primarily for DMA buffers, and the like.
  24:libDaisy/src/daisy_core.h **** */
  25:libDaisy/src/daisy_core.h **** #define DMA_BUFFER_MEM_SECTION __attribute__((section(".sram1_bss")))
  26:libDaisy/src/daisy_core.h **** /** 
  27:libDaisy/src/daisy_core.h **** THE DTCM RAM section is also non-cached. However, is not suitable 
  28:libDaisy/src/daisy_core.h **** for DMA transfers. Performance is on par with internal SRAM w/ 
  29:libDaisy/src/daisy_core.h **** cache enabled.
  30:libDaisy/src/daisy_core.h **** */
  31:libDaisy/src/daisy_core.h **** #define DTCM_MEM_SECTION __attribute__((section(".dtcmram_bss")))
  32:libDaisy/src/daisy_core.h **** 
  33:libDaisy/src/daisy_core.h **** #define FBIPMAX 0.999985f             /**< close to 1.0f-LSB at 16 bit */
  34:libDaisy/src/daisy_core.h **** #define FBIPMIN (-FBIPMAX)            /**< - (1 - LSB) */
  35:libDaisy/src/daisy_core.h **** #define U82F_SCALE 0.0078740f         /**< 1 / 127 */
  36:libDaisy/src/daisy_core.h **** #define F2U8_SCALE 127.0f             /**< 128 - 1 */
  37:libDaisy/src/daisy_core.h **** #define S82F_SCALE 0.0078125f         /**< 1 / (2**7) */
  38:libDaisy/src/daisy_core.h **** #define F2S8_SCALE 127.0f             /**< (2 ** 7) - 1 */
  39:libDaisy/src/daisy_core.h **** #define S162F_SCALE 3.0517578125e-05f /**< 1 / (2** 15) */
  40:libDaisy/src/daisy_core.h **** #define F2S16_SCALE 32767.0f          /**< (2 ** 15) - 1 */
  41:libDaisy/src/daisy_core.h **** #define F2S24_SCALE 8388608.0f        /**< 2 ** 23 */
  42:libDaisy/src/daisy_core.h **** #define S242F_SCALE 1.192092896e-07f  /**< 1 / (2 ** 23) */
  43:libDaisy/src/daisy_core.h **** #define S24SIGN 0x800000              /**< 2 ** 23 */
  44:libDaisy/src/daisy_core.h **** #define S322F_SCALE 4.6566129e-10f    /**< 1 / (2** 31) */
  45:libDaisy/src/daisy_core.h **** #define F2S32_SCALE 2147483647.f      /**< (2 ** 31) - 1 */
  46:libDaisy/src/daisy_core.h **** 
  47:libDaisy/src/daisy_core.h **** 
  48:libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the left 
  49:libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved output buffer named out */
  50:libDaisy/src/daisy_core.h **** #define OUT_L out[0]
  51:libDaisy/src/daisy_core.h **** 
  52:libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the right 
  53:libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved output buffer named out */
  54:libDaisy/src/daisy_core.h **** #define OUT_R out[1]
  55:libDaisy/src/daisy_core.h **** 
  56:libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the left 
  57:libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved input buffer named in */
  58:libDaisy/src/daisy_core.h **** #define IN_L in[0]
  59:libDaisy/src/daisy_core.h **** 
  60:libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the right 
  61:libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved input buffer named in */
  62:libDaisy/src/daisy_core.h **** #define IN_R in[1]
  63:libDaisy/src/daisy_core.h **** 
  64:libDaisy/src/daisy_core.h **** /** 
  65:libDaisy/src/daisy_core.h ****     Computes cube.
  66:libDaisy/src/daisy_core.h ****     \param x Number to be cubed
  67:libDaisy/src/daisy_core.h ****     \return x ^ 3
  68:libDaisy/src/daisy_core.h **** */
  69:libDaisy/src/daisy_core.h **** FORCE_INLINE float cube(float x)
  70:libDaisy/src/daisy_core.h **** {
ARM GAS  /tmp/ccWyZVAv.s 			page 19


  71:libDaisy/src/daisy_core.h ****     return (x * x) * x;
  72:libDaisy/src/daisy_core.h **** }
  73:libDaisy/src/daisy_core.h **** 
  74:libDaisy/src/daisy_core.h **** /** 
  75:libDaisy/src/daisy_core.h ****     Converts unsigned 8-bit to float
  76:libDaisy/src/daisy_core.h ****     \param x Number to be scaled.
  77:libDaisy/src/daisy_core.h ****     \return Scaled number.
  78:libDaisy/src/daisy_core.h **** */
  79:libDaisy/src/daisy_core.h **** FORCE_INLINE float u82f(uint8_t x)
  80:libDaisy/src/daisy_core.h **** {
  81:libDaisy/src/daisy_core.h ****     return ((float)x - 127.f) * U82F_SCALE;
  82:libDaisy/src/daisy_core.h **** }
  83:libDaisy/src/daisy_core.h **** 
  84:libDaisy/src/daisy_core.h **** /**
  85:libDaisy/src/daisy_core.h ****     Converts float to unsigned 8-bit
  86:libDaisy/src/daisy_core.h **** */
  87:libDaisy/src/daisy_core.h **** FORCE_INLINE uint8_t f2u8(float x)
  88:libDaisy/src/daisy_core.h **** {
  89:libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
  90:libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
  91:libDaisy/src/daisy_core.h ****     return (uint8_t)((x * F2U8_SCALE) + F2U8_SCALE);
  92:libDaisy/src/daisy_core.h **** }
  93:libDaisy/src/daisy_core.h **** 
  94:libDaisy/src/daisy_core.h **** 
  95:libDaisy/src/daisy_core.h **** /** 
  96:libDaisy/src/daisy_core.h ****     Converts Signed 8-bit to float
  97:libDaisy/src/daisy_core.h ****     \param x Number to be scaled.
  98:libDaisy/src/daisy_core.h ****     \return Scaled number.
  99:libDaisy/src/daisy_core.h **** */
 100:libDaisy/src/daisy_core.h **** FORCE_INLINE float s82f(int8_t x)
 101:libDaisy/src/daisy_core.h **** {
 102:libDaisy/src/daisy_core.h ****     return (float)x * S82F_SCALE;
 103:libDaisy/src/daisy_core.h **** }
 104:libDaisy/src/daisy_core.h **** 
 105:libDaisy/src/daisy_core.h **** /**
 106:libDaisy/src/daisy_core.h ****     Converts float to Signed 8-bit
 107:libDaisy/src/daisy_core.h **** */
 108:libDaisy/src/daisy_core.h **** FORCE_INLINE int8_t f2s8(float x)
 109:libDaisy/src/daisy_core.h **** {
 110:libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 111:libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 112:libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S8_SCALE);
 113:libDaisy/src/daisy_core.h **** }
 114:libDaisy/src/daisy_core.h **** 
 115:libDaisy/src/daisy_core.h **** /** 
 116:libDaisy/src/daisy_core.h ****     Converts Signed 16-bit to float
 117:libDaisy/src/daisy_core.h ****     \param x Number to be scaled.
 118:libDaisy/src/daisy_core.h ****     \return Scaled number.
 119:libDaisy/src/daisy_core.h **** */
 120:libDaisy/src/daisy_core.h **** FORCE_INLINE float s162f(int16_t x)
 121:libDaisy/src/daisy_core.h **** {
 122:libDaisy/src/daisy_core.h ****     return (float)x * S162F_SCALE;
 123:libDaisy/src/daisy_core.h **** }
 124:libDaisy/src/daisy_core.h **** 
 125:libDaisy/src/daisy_core.h **** /**
 126:libDaisy/src/daisy_core.h ****     Converts float to Signed 16-bit
 127:libDaisy/src/daisy_core.h **** */
ARM GAS  /tmp/ccWyZVAv.s 			page 20


 128:libDaisy/src/daisy_core.h **** FORCE_INLINE int16_t f2s16(float x)
 129:libDaisy/src/daisy_core.h **** {
 130:libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 131:libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 132:libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S16_SCALE);
 133:libDaisy/src/daisy_core.h **** }
 134:libDaisy/src/daisy_core.h **** 
 135:libDaisy/src/daisy_core.h **** /**
 136:libDaisy/src/daisy_core.h ****     Converts Signed 24-bit to float
 137:libDaisy/src/daisy_core.h ****  */
 138:libDaisy/src/daisy_core.h **** FORCE_INLINE float s242f(int32_t x)
 139:libDaisy/src/daisy_core.h **** {
 140:libDaisy/src/daisy_core.h ****     x = (x ^ S24SIGN) - S24SIGN; //sign extend aka ((x<<8)>>8)
 141:libDaisy/src/daisy_core.h ****     return (float)x * S242F_SCALE;
 142:libDaisy/src/daisy_core.h **** }
 143:libDaisy/src/daisy_core.h **** /**
 144:libDaisy/src/daisy_core.h ****     Converts float to Signed 24-bit
 145:libDaisy/src/daisy_core.h ****  */
 146:libDaisy/src/daisy_core.h **** FORCE_INLINE int32_t f2s24(float x)
 147:libDaisy/src/daisy_core.h **** {
 148:libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 149:libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 150:libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S24_SCALE);
 151:libDaisy/src/daisy_core.h **** }
 152:libDaisy/src/daisy_core.h **** 
 153:libDaisy/src/daisy_core.h **** /**
 154:libDaisy/src/daisy_core.h ****     Converts Signed 32-bit to float
 155:libDaisy/src/daisy_core.h ****  */
 156:libDaisy/src/daisy_core.h **** FORCE_INLINE float s322f(int32_t x)
 157:libDaisy/src/daisy_core.h **** {
 158:libDaisy/src/daisy_core.h ****     return (float)x * S322F_SCALE;
 159:libDaisy/src/daisy_core.h **** }
 160:libDaisy/src/daisy_core.h **** /**
 161:libDaisy/src/daisy_core.h ****     Converts float to Signed 24-bit
 162:libDaisy/src/daisy_core.h ****  */
 163:libDaisy/src/daisy_core.h **** FORCE_INLINE int32_t f2s32(float x)
 164:libDaisy/src/daisy_core.h **** {
 165:libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 166:libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 167:libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S32_SCALE);
 168:libDaisy/src/daisy_core.h **** }
 169:libDaisy/src/daisy_core.h **** 
 170:libDaisy/src/daisy_core.h **** #ifdef __cplusplus
 171:libDaisy/src/daisy_core.h **** 
 172:libDaisy/src/daisy_core.h **** namespace daisy
 173:libDaisy/src/daisy_core.h **** {
 174:libDaisy/src/daisy_core.h **** /** @brief GPIO Port names */
 175:libDaisy/src/daisy_core.h **** enum GPIOPort
 176:libDaisy/src/daisy_core.h **** {
 177:libDaisy/src/daisy_core.h ****     PORTA, /**< Port A */
 178:libDaisy/src/daisy_core.h ****     PORTB, /**< Port B */
 179:libDaisy/src/daisy_core.h ****     PORTC, /**< Port C */
 180:libDaisy/src/daisy_core.h ****     PORTD, /**< Port D */
 181:libDaisy/src/daisy_core.h ****     PORTE, /**< Port E */
 182:libDaisy/src/daisy_core.h ****     PORTF, /**< Port F */
 183:libDaisy/src/daisy_core.h ****     PORTG, /**< Port G */
 184:libDaisy/src/daisy_core.h ****     PORTH, /**< Port H */
ARM GAS  /tmp/ccWyZVAv.s 			page 21


 185:libDaisy/src/daisy_core.h ****     PORTI, /**< Port I */
 186:libDaisy/src/daisy_core.h ****     PORTJ, /**< Port J */
 187:libDaisy/src/daisy_core.h ****     PORTK, /**< Port K */
 188:libDaisy/src/daisy_core.h ****     PORTX, /**< Used as a dummy port to signal an invalid pin. */
 189:libDaisy/src/daisy_core.h **** };
 190:libDaisy/src/daisy_core.h **** 
 191:libDaisy/src/daisy_core.h **** /** @brief representation of hardware port/pin combination */
 192:libDaisy/src/daisy_core.h **** struct Pin
 193:libDaisy/src/daisy_core.h **** {
 194:libDaisy/src/daisy_core.h ****     GPIOPort port;
 195:libDaisy/src/daisy_core.h ****     uint8_t  pin;
 196:libDaisy/src/daisy_core.h **** 
 197:libDaisy/src/daisy_core.h ****     /** @brief Constructor creates a valid pin. 
 198:libDaisy/src/daisy_core.h ****      *  @param pt GPIOPort between PA, and PK corresponding to STM32 Port.
 199:libDaisy/src/daisy_core.h ****      *  @param pn pin number in range of 0-15
 200:libDaisy/src/daisy_core.h ****     */
 201:libDaisy/src/daisy_core.h ****     constexpr Pin(const GPIOPort pt, const uint8_t pn) : port(pt), pin(pn) {}
 202:libDaisy/src/daisy_core.h **** 
 203:libDaisy/src/daisy_core.h ****     /** @brief Basic Constructor creates an invalid Pin object */
 204:libDaisy/src/daisy_core.h ****     constexpr Pin() : port(PORTX), pin(255) {}
 299              		.loc 12 204 23 view .LVU66
 300 0002 4FF60B71 		movw	r1, #65291
 301              	.LBE484:
 302              	.LBE483:
 303              	.LBE482:
 304              	.LBE481:
 305              	.LBE480:
 306              	.LBE479:
 307              	.LBE478:
 308              	.LBE477:
 309              	.LBB501:
 310              	.LBB502:
 311              	.LBB503:
 312              	.LBB504:
 313              	.LBB505:
 314 0006 6FF0F410 		mvn	r0, #15991028
 315              	.LBE505:
 316              	.LBE504:
 317              	.LBE503:
 318              	.LBE502:
 319              	.LBE501:
 320              	.LBE471:
 321              	.LBE470:
 322              	.LBE469:
 323              	.LBE468:
   6:BlackBox.cpp  **** static Hardware   g_hw;
 324              		.loc 1 6 19 discriminator 1 view .LVU67
 325 000a 2E4A     		ldr	r2, .L20
 326              	.LBE467:
 327              	.LBE466:
 328              		.loc 1 43 1 view .LVU68
 329 000c 10B4     		push	{r4}
 330              		.cfi_def_cfa_offset 4
 331              		.cfi_offset 4, -4
 332              	.LBB797:
 333              	.LBB795:
 334              	.LBB792:
ARM GAS  /tmp/ccWyZVAv.s 			page 22


 335              	.LBB789:
 336              	.LBB573:
 337              	.LBB569:
 338              	.LBB510:
 339              	.LBB476:
 340              	.LBB475:
 341              		.loc 11 167 20 view .LVU69
 342 000e 2E4C     		ldr	r4, .L20+4
 343              	.LBE475:
 344              	.LBE476:
 345              	.LBE510:
 346              	.LBB511:
 347              	.LBB509:
 348              	.LBB508:
 349              	.LBB507:
 350              	.LBB506:
 351              		.loc 12 204 23 view .LVU70
 352 0010 C4E90030 		strd	r3, r0, [r4]
 353 0014 C4E90200 		strd	r0, r0, [r4, #8]
 354              	.LVL12:
 355              		.loc 12 204 23 view .LVU71
 356              	.LBE506:
 357              	.LBE507:
 358              	.LBE508:
 359              	.LBE509:
 360              	.LBE511:
 361              	.LBB512:
 362              	.LBI512:
  87:libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 363              		.loc 10 87 5 is_stmt 1 view .LVU72
 364              	.LBE512:
 365              	.LBB515:
 366              	.LBB498:
 367              	.LBB495:
 368              	.LBB492:
 369              	.LBB489:
 370              	.LBB487:
 371              	.LBB486:
 372              	.LBB485:
 373              		.loc 12 204 23 is_stmt 0 view .LVU73
 374 0018 2185     		strh	r1, [r4, #40]	@ movhi
 375              	.LBE485:
 376              	.LBE486:
 377              	.LBE487:
 378              	.LBE489:
 379              	.LBE492:
 380              	.LBE495:
 381              	.LBE498:
 382              	.LBE515:
 383              	.LBE569:
 384              	.LBE573:
 385              	.LBE789:
 386              	.LBE792:
   6:BlackBox.cpp  **** static Hardware   g_hw;
 387              		.loc 1 6 19 discriminator 1 view .LVU74
 388 001a 2046     		mov	r0, r4
 389              	.LBB793:
ARM GAS  /tmp/ccWyZVAv.s 			page 23


 390              	.LBB790:
 391              	.LBB574:
 392              	.LBB570:
 393              	.LBB516:
 394              	.LBB517:
 395              	.LBB518:
 396              	.LBB519:
 397              	.LBB520:
 398              	.LBB521:
 399              	.LBB522:
 400              	.LBB523:
 401              		.loc 12 204 23 view .LVU75
 402 001c A187     		strh	r1, [r4, #60]	@ movhi
 403              	.LBE523:
 404              	.LBE522:
 405              	.LBE521:
 406              	.LBE520:
 407              	.LBE519:
 408              	.LBE518:
 409              	.LBE517:
 410              	.LBE516:
 411              	.LBB533:
 412              	.LBB534:
 413              	.LBB535:
 414              	.LBB536:
 415              	.LBB537:
 416              	.LBB538:
 417              	.LBB539:
 418              	.LBB540:
 419              	.LBB541:
 420 001e A4F85810 		strh	r1, [r4, #88]	@ movhi
 421              	.LBE541:
 422              	.LBE540:
 423              	.LBE539:
 424              	.LBE538:
 425              	.LBE537:
 426              	.LBE536:
 427              	.LBE535:
 428              	.LBE534:
 429              	.LBE533:
 430              	.LBE570:
 431              	.LBE574:
 432              	.LBB575:
 433              	.LBB576:
 434              	.LBB577:
 435              	.LBB578:
 436              	.LBB579:
 437              	.LBB580:
 438              	.LBB581:
 439              	.LBB582:
 440              	.LBB583:
 441              	.LBB584:
 442              	.LBB585:
 443              	.LBB586:
 444 0022 A4F88410 		strh	r1, [r4, #132]	@ movhi
 445              	.LBE586:
 446              	.LBE585:
ARM GAS  /tmp/ccWyZVAv.s 			page 24


 447              	.LBE584:
 448              	.LBE583:
 449              	.LBE582:
 450              	.LBE581:
 451              	.LBE580:
 452              	.LBE579:
 453              	.LBE578:
 454              	.LBE577:
 455              	.LBB600:
 456              	.LBB601:
 457              	.LBB602:
 458              	.LBB603:
 459              	.LBB604:
 460              	.LBB605:
 461              	.LBB606:
 462              	.LBB607:
 463 0026 A4F8A010 		strh	r1, [r4, #160]	@ movhi
 464              	.LBE607:
 465              	.LBE606:
 466              	.LBE605:
 467              	.LBE604:
 468              	.LBE603:
 469              	.LBE602:
 470              	.LBE601:
 471              	.LBE600:
 472              	.LBB617:
 473              	.LBB618:
 474              	.LBB619:
 475              	.LBB620:
 476              	.LBB621:
 477              	.LBB622:
 478              	.LBB623:
 479              	.LBB624:
 480 002a A4F8B410 		strh	r1, [r4, #180]	@ movhi
 481              	.LBE624:
 482              	.LBE623:
 483              	.LBE622:
 484              	.LBE621:
 485              	.LBE620:
 486              	.LBE619:
 487              	.LBE618:
 488              	.LBE617:
 489              	.LBE576:
 490              	.LBE575:
 491              	.LBB642:
 492              	.LBB571:
 493              	.LBB553:
 494              	.LBB513:
 495              	.LBB514:
  87:libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 496              		.loc 10 87 21 view .LVU76
 497 002e 6361     		str	r3, [r4, #20]
 498              	.LVL13:
  87:libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 499              		.loc 10 87 21 view .LVU77
 500              	.LBE514:
 501              	.LBE513:
ARM GAS  /tmp/ccWyZVAv.s 			page 25


 502              	.LBE553:
 503              	.LBB554:
 504              	.LBI554:
 109:libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 505              		.loc 9 109 5 is_stmt 1 view .LVU78
 109:libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 506              		.loc 9 109 5 is_stmt 0 view .LVU79
 507              	.LBE554:
 508              	.LBB555:
 509              	.LBI555:
 510              		.file 13 "libDaisy/src/per/dac.h"
   1:libDaisy/src/per/dac.h **** #pragma once
   2:libDaisy/src/per/dac.h **** #ifndef DSY_DAC_H
   3:libDaisy/src/per/dac.h **** #define DSY_DAC_H
   4:libDaisy/src/per/dac.h **** #include "stm32h7xx_hal.h"
   5:libDaisy/src/per/dac.h **** #include "daisy_core.h"
   6:libDaisy/src/per/dac.h **** 
   7:libDaisy/src/per/dac.h **** namespace daisy
   8:libDaisy/src/per/dac.h **** {
   9:libDaisy/src/per/dac.h **** /** @brief DAC handle for Built-in DAC Peripheral 
  10:libDaisy/src/per/dac.h ****  *  @ingroup per_analog
  11:libDaisy/src/per/dac.h ****  ** 
  12:libDaisy/src/per/dac.h ****  ** For now only Normal Mode is supported,
  13:libDaisy/src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  14:libDaisy/src/per/dac.h ****  **
  15:libDaisy/src/per/dac.h ****  ** For now connecting the DAC through other internal peripherals is also not supported.
  16:libDaisy/src/per/dac.h ****  **
  17:libDaisy/src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  18:libDaisy/src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
  19:libDaisy/src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  20:libDaisy/src/per/dac.h ****  ***/
  21:libDaisy/src/per/dac.h **** class DacHandle
  22:libDaisy/src/per/dac.h **** {
  23:libDaisy/src/per/dac.h ****   public:
  24:libDaisy/src/per/dac.h ****     /** Return Values for the DacHandle class */
  25:libDaisy/src/per/dac.h ****     enum class Result
  26:libDaisy/src/per/dac.h ****     {
  27:libDaisy/src/per/dac.h ****         OK,
  28:libDaisy/src/per/dac.h ****         ERR,
  29:libDaisy/src/per/dac.h ****     };
  30:libDaisy/src/per/dac.h **** 
  31:libDaisy/src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  32:libDaisy/src/per/dac.h ****     enum class Channel
  33:libDaisy/src/per/dac.h ****     {
  34:libDaisy/src/per/dac.h ****         ONE,
  35:libDaisy/src/per/dac.h ****         TWO,
  36:libDaisy/src/per/dac.h ****         BOTH,
  37:libDaisy/src/per/dac.h ****     };
  38:libDaisy/src/per/dac.h **** 
  39:libDaisy/src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  40:libDaisy/src/per/dac.h ****      **
  41:libDaisy/src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  42:libDaisy/src/per/dac.h ****      **
  43:libDaisy/src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
  44:libDaisy/src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  45:libDaisy/src/per/dac.h ****      ***/
  46:libDaisy/src/per/dac.h ****     enum class Mode
ARM GAS  /tmp/ccWyZVAv.s 			page 26


  47:libDaisy/src/per/dac.h ****     {
  48:libDaisy/src/per/dac.h ****         POLLING,
  49:libDaisy/src/per/dac.h ****         DMA,
  50:libDaisy/src/per/dac.h ****     };
  51:libDaisy/src/per/dac.h **** 
  52:libDaisy/src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  53:libDaisy/src/per/dac.h ****      ** The output range will be: 0V - VDDA
  54:libDaisy/src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  55:libDaisy/src/per/dac.h ****      ***/
  56:libDaisy/src/per/dac.h ****     enum class BitDepth
  57:libDaisy/src/per/dac.h ****     {
  58:libDaisy/src/per/dac.h ****         BITS_8,
  59:libDaisy/src/per/dac.h ****         BITS_12
  60:libDaisy/src/per/dac.h ****     };
  61:libDaisy/src/per/dac.h **** 
  62:libDaisy/src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
  63:libDaisy/src/per/dac.h ****     enum class BufferState
  64:libDaisy/src/per/dac.h ****     {
  65:libDaisy/src/per/dac.h ****         ENABLED,
  66:libDaisy/src/per/dac.h ****         DISABLED,
  67:libDaisy/src/per/dac.h ****     };
  68:libDaisy/src/per/dac.h **** 
  69:libDaisy/src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  70:libDaisy/src/per/dac.h ****     struct Config
  71:libDaisy/src/per/dac.h ****     {
  72:libDaisy/src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  73:libDaisy/src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  74:libDaisy/src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  75:libDaisy/src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
  76:libDaisy/src/per/dac.h ****         uint32_t target_samplerate;
  77:libDaisy/src/per/dac.h **** 
  78:libDaisy/src/per/dac.h ****         Channel     chn;
  79:libDaisy/src/per/dac.h ****         Mode        mode;
  80:libDaisy/src/per/dac.h ****         BitDepth    bitdepth;
  81:libDaisy/src/per/dac.h ****         BufferState buff_state;
  82:libDaisy/src/per/dac.h ****     };
  83:libDaisy/src/per/dac.h **** 
  84:libDaisy/src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 511              		.loc 13 84 5 is_stmt 1 view .LVU80
 512              	.LBB556:
 513              	.LBB557:
 514              		.loc 13 84 19 is_stmt 0 view .LVU81
 515 0030 2362     		str	r3, [r4, #32]
 516              	.LVL14:
 517              		.loc 13 84 19 view .LVU82
 518              	.LBE557:
 519              	.LBE556:
 520              	.LBE555:
 521              	.LBB558:
 522              	.LBI558:
  40:libDaisy/src/hid/usb.h **** 
 523              		.loc 8 40 5 is_stmt 1 view .LVU83
  40:libDaisy/src/hid/usb.h **** 
 524              		.loc 8 40 5 is_stmt 0 view .LVU84
 525              	.LBE558:
 526              	.LBB559:
 527              	.LBI477:
ARM GAS  /tmp/ccWyZVAv.s 			page 27


 528              		.file 14 "libDaisy/src/per/gpio.h"
   1:libDaisy/src/per/gpio.h **** #pragma once
   2:libDaisy/src/per/gpio.h **** #ifndef DSY_GPIO_H
   3:libDaisy/src/per/gpio.h **** #define DSY_GPIO_H
   4:libDaisy/src/per/gpio.h **** #include "daisy_core.h"
   5:libDaisy/src/per/gpio.h **** 
   6:libDaisy/src/per/gpio.h **** #ifdef __cplusplus
   7:libDaisy/src/per/gpio.h **** 
   8:libDaisy/src/per/gpio.h **** namespace daisy
   9:libDaisy/src/per/gpio.h **** {
  10:libDaisy/src/per/gpio.h **** /** @brief General Purpose I/O control 
  11:libDaisy/src/per/gpio.h ****  *  @details peripheral control over a single GPIO
  12:libDaisy/src/per/gpio.h ****  *  @ingroup peripheral
  13:libDaisy/src/per/gpio.h ****  *   
  14:libDaisy/src/per/gpio.h ****  *  Button Input (with internal Pullup resistor)
  15:libDaisy/src/per/gpio.h ****  *  @include GPIO_Input.cpp 
  16:libDaisy/src/per/gpio.h ****  * 
  17:libDaisy/src/per/gpio.h ****  *  Output Example (perfect for blinking an LED)
  18:libDaisy/src/per/gpio.h ****  *  @include GPIO_Output.cpp
  19:libDaisy/src/per/gpio.h ****  * 
  20:libDaisy/src/per/gpio.h **** */
  21:libDaisy/src/per/gpio.h **** class GPIO
  22:libDaisy/src/per/gpio.h **** {
  23:libDaisy/src/per/gpio.h ****   public:
  24:libDaisy/src/per/gpio.h ****     /** @brief Mode of operation for the specified GPIO */
  25:libDaisy/src/per/gpio.h ****     enum class Mode
  26:libDaisy/src/per/gpio.h ****     {
  27:libDaisy/src/per/gpio.h ****         INPUT,      /**< Input for reading state of pin */
  28:libDaisy/src/per/gpio.h ****         OUTPUT,     /**< Output w/ push-pull configuration */
  29:libDaisy/src/per/gpio.h ****         OPEN_DRAIN, /**< Output w/ open-drain configuration */
  30:libDaisy/src/per/gpio.h ****         ANALOG,     /**< Analog for connection to ADC or DAC peripheral */
  31:libDaisy/src/per/gpio.h ****     };
  32:libDaisy/src/per/gpio.h **** 
  33:libDaisy/src/per/gpio.h ****     /** @brief Configures whether an internal Pull up or Pull down resistor is used. 
  34:libDaisy/src/per/gpio.h ****      *  
  35:libDaisy/src/per/gpio.h ****      * Internal Pull up/down resistors are typically 40k ohms, and will be between
  36:libDaisy/src/per/gpio.h ****      * 30k and 50k
  37:libDaisy/src/per/gpio.h ****      * 
  38:libDaisy/src/per/gpio.h ****      * When the Pin is configured in Analog mode, the pull up/down resistors are
  39:libDaisy/src/per/gpio.h ****      * disabled by hardware. 
  40:libDaisy/src/per/gpio.h ****      */
  41:libDaisy/src/per/gpio.h ****     enum class Pull
  42:libDaisy/src/per/gpio.h ****     {
  43:libDaisy/src/per/gpio.h ****         NOPULL,   /**< No pull up resistor */
  44:libDaisy/src/per/gpio.h ****         PULLUP,   /**< Internal pull up enabled */
  45:libDaisy/src/per/gpio.h ****         PULLDOWN, /**< Internal pull down enabled*/
  46:libDaisy/src/per/gpio.h ****     };
  47:libDaisy/src/per/gpio.h **** 
  48:libDaisy/src/per/gpio.h ****     /** @brief Output speed controls the drive strength, and slew rate of the pin */
  49:libDaisy/src/per/gpio.h ****     enum class Speed
  50:libDaisy/src/per/gpio.h ****     {
  51:libDaisy/src/per/gpio.h ****         LOW,
  52:libDaisy/src/per/gpio.h ****         MEDIUM,
  53:libDaisy/src/per/gpio.h ****         HIGH,
  54:libDaisy/src/per/gpio.h ****         VERY_HIGH,
  55:libDaisy/src/per/gpio.h ****     };
  56:libDaisy/src/per/gpio.h **** 
ARM GAS  /tmp/ccWyZVAv.s 			page 28


  57:libDaisy/src/per/gpio.h ****     /** @brief Configuration for a given GPIO */
  58:libDaisy/src/per/gpio.h ****     struct Config
  59:libDaisy/src/per/gpio.h ****     {
  60:libDaisy/src/per/gpio.h ****         Pin   pin;
  61:libDaisy/src/per/gpio.h ****         Mode  mode;
  62:libDaisy/src/per/gpio.h ****         Pull  pull;
  63:libDaisy/src/per/gpio.h ****         Speed speed;
  64:libDaisy/src/per/gpio.h **** 
  65:libDaisy/src/per/gpio.h ****         /** Constructor with no arguments will prepare an invalid GPIO set as
  66:libDaisy/src/per/gpio.h ****          *  an input, with no pullup. 
  67:libDaisy/src/per/gpio.h ****          */
  68:libDaisy/src/per/gpio.h ****         Config()
  69:libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
  70:libDaisy/src/per/gpio.h ****         {
  71:libDaisy/src/per/gpio.h ****         }
  72:libDaisy/src/per/gpio.h ****     };
  73:libDaisy/src/per/gpio.h **** 
  74:libDaisy/src/per/gpio.h ****     GPIO() {}
 529              		.loc 14 74 5 is_stmt 1 view .LVU85
 530              	.LBB499:
 531              	.LBB496:
 532              	.LBI479:
  68:libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 533              		.loc 14 68 9 view .LVU86
 534              	.LBB493:
 535              	.LBB490:
 536              	.LBB488:
 537              	.LBI482:
 538              		.loc 12 204 15 view .LVU87
 539              		.loc 12 204 15 is_stmt 0 view .LVU88
 540              	.LBE488:
  69:libDaisy/src/per/gpio.h ****         {
 541              		.loc 14 69 57 discriminator 1 view .LVU89
 542 0032 6363     		str	r3, [r4, #52]
 543              	.LVL15:
  69:libDaisy/src/per/gpio.h ****         {
 544              		.loc 14 69 57 discriminator 1 view .LVU90
 545              	.LBE490:
 546              	.LBE493:
 547              	.LBE496:
 548              	.LBE499:
 549              	.LBE559:
 550              	.LBB560:
 551              	.LBI516:
 552              		.loc 14 74 5 is_stmt 1 view .LVU91
 553              	.LBB531:
 554              	.LBB529:
 555              	.LBI518:
  68:libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 556              		.loc 14 68 9 view .LVU92
 557              	.LBB527:
 558              	.LBB525:
 559              	.LBB524:
 560              	.LBI521:
 561              		.loc 12 204 15 view .LVU93
 562              		.loc 12 204 15 is_stmt 0 view .LVU94
 563              	.LBE524:
ARM GAS  /tmp/ccWyZVAv.s 			page 29


  69:libDaisy/src/per/gpio.h ****         {
 564              		.loc 14 69 57 discriminator 1 view .LVU95
 565 0034 A364     		str	r3, [r4, #72]
 566              	.LVL16:
  69:libDaisy/src/per/gpio.h ****         {
 567              		.loc 14 69 57 discriminator 1 view .LVU96
 568              	.LBE525:
 569              	.LBE527:
 570              	.LBE529:
 571              	.LBE531:
 572              	.LBE560:
 573              	.LBB561:
 574              	.LBI561:
  96:libDaisy/src/sys/system.h ****     ~System() {}
 575              		.loc 7 96 5 is_stmt 1 view .LVU97
  96:libDaisy/src/sys/system.h ****     ~System() {}
 576              		.loc 7 96 5 is_stmt 0 view .LVU98
 577              	.LBE561:
 578              	.LBB562:
 579              	.LBI533:
  20:libDaisy/src/dev/codec_ak4556.h ****     ~Ak4556() {}
 580              		.loc 6 20 5 is_stmt 1 view .LVU99
 581              	.LBB551:
 582              	.LBI534:
 583              		.loc 14 74 5 view .LVU100
 584              	.LBB549:
 585              	.LBB547:
 586              	.LBI536:
  68:libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 587              		.loc 14 68 9 view .LVU101
 588              	.LBB545:
 589              	.LBB543:
 590              	.LBB542:
 591              	.LBI539:
 592              		.loc 12 204 15 view .LVU102
 593              		.loc 12 204 15 is_stmt 0 view .LVU103
 594              	.LBE542:
  69:libDaisy/src/per/gpio.h ****         {
 595              		.loc 14 69 57 discriminator 1 view .LVU104
 596 0036 6366     		str	r3, [r4, #100]
 597              	.LVL17:
  69:libDaisy/src/per/gpio.h ****         {
 598              		.loc 14 69 57 discriminator 1 view .LVU105
 599              	.LBE543:
 600              	.LBE545:
 601              	.LBE547:
 602              	.LBE549:
 603              	.LBE551:
 604              	.LBE562:
 605              	.LBB563:
 606              	.LBI563:
 607              		.file 15 "libDaisy/src/per/sai.h"
   1:libDaisy/src/per/sai.h **** #pragma once
   2:libDaisy/src/per/sai.h **** #ifndef DSY_SAI_H
   3:libDaisy/src/per/sai.h **** #define DSY_SAI_H
   4:libDaisy/src/per/sai.h **** 
   5:libDaisy/src/per/sai.h **** #include "util/hal_map.h"
ARM GAS  /tmp/ccWyZVAv.s 			page 30


   6:libDaisy/src/per/sai.h **** #include "daisy_core.h"
   7:libDaisy/src/per/sai.h **** 
   8:libDaisy/src/per/sai.h **** namespace daisy
   9:libDaisy/src/per/sai.h **** {
  10:libDaisy/src/per/sai.h **** /** 
  11:libDaisy/src/per/sai.h ****  * Support for I2S Audio Protocol with different bit-depth, samplerate options
  12:libDaisy/src/per/sai.h ****  * Allows for master or slave, as well as freedom of selecting direction, 
  13:libDaisy/src/per/sai.h ****  * and other behavior for each peripheral, and block.
  14:libDaisy/src/per/sai.h ****  * 
  15:libDaisy/src/per/sai.h ****  * DMA Transfer commands must use buffers located within non-cached memory or use cache maintenance
  16:libDaisy/src/per/sai.h ****  * To declare an unitialized global element in the DMA memory section:
  17:libDaisy/src/per/sai.h ****  *    int32_t DSY_DMA_BUFFER_SECTOR my_buffer[96];
  18:libDaisy/src/per/sai.h ****  *
  19:libDaisy/src/per/sai.h ****  * Callback functions will be called once per half of the buffer. In the above example, 
  20:libDaisy/src/per/sai.h ****  * the callback function would be called once for every 48 samples.
  21:libDaisy/src/per/sai.h ****  * 
  22:libDaisy/src/per/sai.h ****  * Use SAI Handle like this:
  23:libDaisy/src/per/sai.h ****  * 
  24:libDaisy/src/per/sai.h ****  *  SaiHandle::Config sai_config;
  25:libDaisy/src/per/sai.h ****  *  sai_config.periph          = SaiHandle::Config::Peripheral::SAI_1;
  26:libDaisy/src/per/sai.h ****  *  sai_config.sr              = SaiHandle::Config::SampleRate::SAI_48KHZ;
  27:libDaisy/src/per/sai.h ****  *  sai_config.bit_depth       = SaiHandle::Config::BitDepth::SAI_24BIT;
  28:libDaisy/src/per/sai.h ****  *  sai_config.a_sync          = SaiHandle::Config::Sync::MASTER;
  29:libDaisy/src/per/sai.h ****  *  sai_config.b_sync          = SaiHandle::Config::Sync::SLAVE;
  30:libDaisy/src/per/sai.h ****  *  sai_config.a_dir           = SaiHandle::Config::Direction::RECEIVE;
  31:libDaisy/src/per/sai.h ****  *  sai_config.b_dir           = SaiHandle::Config::Direction::TRANSMIT;
  32:libDaisy/src/per/sai.h ****  *  sai_config.pin_config.fs   = {DSY_GPIOE, 4};
  33:libDaisy/src/per/sai.h ****  *  sai_config.pin_config.mclk = {DSY_GPIOE, 2};
  34:libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sck  = {DSY_GPIOE, 5};
  35:libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sa   = {DSY_GPIOE, 6};
  36:libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sb   = {DSY_GPIOE, 3};
  37:libDaisy/src/per/sai.h ****  *  // Then Initialize
  38:libDaisy/src/per/sai.h ****  *  SaiHandle sai;
  39:libDaisy/src/per/sai.h ****  *  sai.Init(sai_config);
  40:libDaisy/src/per/sai.h ****  *  // Now you can use it:
  41:libDaisy/src/per/sai.h ****  *  sai.StartDma(. . .);
  42:libDaisy/src/per/sai.h ****  */
  43:libDaisy/src/per/sai.h **** class SaiHandle
  44:libDaisy/src/per/sai.h **** {
  45:libDaisy/src/per/sai.h ****   public:
  46:libDaisy/src/per/sai.h ****     /** Contains settings for initialising an SAI Interface */
  47:libDaisy/src/per/sai.h ****     struct Config
  48:libDaisy/src/per/sai.h ****     {
  49:libDaisy/src/per/sai.h ****         /** Specifies the internal peripheral to use (mapped to different hardware pins) */
  50:libDaisy/src/per/sai.h ****         enum class Peripheral
  51:libDaisy/src/per/sai.h ****         {
  52:libDaisy/src/per/sai.h ****             SAI_1,
  53:libDaisy/src/per/sai.h ****             SAI_2,
  54:libDaisy/src/per/sai.h ****         };
  55:libDaisy/src/per/sai.h **** 
  56:libDaisy/src/per/sai.h ****         /** Rate at which samples will be streaming to/from the device. */
  57:libDaisy/src/per/sai.h ****         enum class SampleRate
  58:libDaisy/src/per/sai.h ****         {
  59:libDaisy/src/per/sai.h ****             SAI_8KHZ,
  60:libDaisy/src/per/sai.h ****             SAI_16KHZ,
  61:libDaisy/src/per/sai.h ****             SAI_32KHZ,
  62:libDaisy/src/per/sai.h ****             SAI_48KHZ,
ARM GAS  /tmp/ccWyZVAv.s 			page 31


  63:libDaisy/src/per/sai.h ****             SAI_96KHZ,
  64:libDaisy/src/per/sai.h ****         };
  65:libDaisy/src/per/sai.h **** 
  66:libDaisy/src/per/sai.h ****         /** Bit Depth that the hardware expects to be transferred to/from the device. */
  67:libDaisy/src/per/sai.h ****         enum class BitDepth
  68:libDaisy/src/per/sai.h ****         {
  69:libDaisy/src/per/sai.h ****             SAI_16BIT,
  70:libDaisy/src/per/sai.h ****             SAI_24BIT,
  71:libDaisy/src/per/sai.h ****             SAI_32BIT,
  72:libDaisy/src/per/sai.h ****         };
  73:libDaisy/src/per/sai.h **** 
  74:libDaisy/src/per/sai.h ****         /** Specifies whether a particular block is the master or the slave 
  75:libDaisy/src/per/sai.h ****          ** If both are set to slave, no MCLK signal will be used, and it is
  76:libDaisy/src/per/sai.h ****          ** expected that the codec will have its own xtal.
  77:libDaisy/src/per/sai.h ****          */
  78:libDaisy/src/per/sai.h ****         enum class Sync
  79:libDaisy/src/per/sai.h ****         {
  80:libDaisy/src/per/sai.h ****             MASTER,
  81:libDaisy/src/per/sai.h ****             SLAVE,
  82:libDaisy/src/per/sai.h ****         };
  83:libDaisy/src/per/sai.h **** 
  84:libDaisy/src/per/sai.h ****         /** Specifies the direction for each peripheral block. */
  85:libDaisy/src/per/sai.h ****         enum class Direction
  86:libDaisy/src/per/sai.h ****         {
  87:libDaisy/src/per/sai.h ****             TRANSMIT,
  88:libDaisy/src/per/sai.h ****             RECEIVE,
  89:libDaisy/src/per/sai.h ****         };
  90:libDaisy/src/per/sai.h **** 
  91:libDaisy/src/per/sai.h ****         Peripheral periph;
  92:libDaisy/src/per/sai.h ****         struct
  93:libDaisy/src/per/sai.h ****         {
  94:libDaisy/src/per/sai.h ****             Pin mclk, fs, sck, sa, sb;
  95:libDaisy/src/per/sai.h ****         } pin_config;
  96:libDaisy/src/per/sai.h ****         SampleRate sr;
  97:libDaisy/src/per/sai.h ****         BitDepth   bit_depth;
  98:libDaisy/src/per/sai.h ****         Sync       a_sync, b_sync;
  99:libDaisy/src/per/sai.h ****         Direction  a_dir, b_dir;
 100:libDaisy/src/per/sai.h ****     };
 101:libDaisy/src/per/sai.h **** 
 102:libDaisy/src/per/sai.h ****     /** Return values for SAI functions */
 103:libDaisy/src/per/sai.h ****     enum class Result
 104:libDaisy/src/per/sai.h ****     {
 105:libDaisy/src/per/sai.h ****         OK,
 106:libDaisy/src/per/sai.h ****         ERR,
 107:libDaisy/src/per/sai.h ****     };
 108:libDaisy/src/per/sai.h **** 
 109:libDaisy/src/per/sai.h ****     SaiHandle() : pimpl_(nullptr) {}
 608              		.loc 15 109 5 is_stmt 1 view .LVU106
 609              	.LBB564:
 610              	.LBB565:
 611              		.loc 15 109 19 is_stmt 0 view .LVU107
 612 0038 2367     		str	r3, [r4, #112]
 613              	.LVL18:
 614              		.loc 15 109 19 view .LVU108
 615              	.LBE565:
 616              	.LBE564:
 617              	.LBE563:
ARM GAS  /tmp/ccWyZVAv.s 			page 32


 618              	.LBE571:
 619              	.LBE642:
 620              	.LBB643:
 621              	.LBI575:
  20:libDaisy/src/hid/encoder.h ****     ~Encoder() {}
 622              		.loc 4 20 5 is_stmt 1 view .LVU109
 623              	.LBB640:
 624              	.LBB634:
 625              	.LBI577:
  33:libDaisy/src/hid/switch.h ****     ~Switch() {}
 626              		.loc 3 33 5 view .LVU110
 627              	.LBB598:
 628              	.LBB596:
 629              	.LBI579:
 630              		.loc 14 74 5 view .LVU111
 631              	.LBB594:
 632              	.LBB592:
 633              	.LBI581:
  68:libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 634              		.loc 14 68 9 view .LVU112
 635              	.LBB590:
 636              	.LBB588:
 637              	.LBB587:
 638              	.LBI584:
 639              		.loc 12 204 15 view .LVU113
 640              		.loc 12 204 15 is_stmt 0 view .LVU114
 641              	.LBE587:
  69:libDaisy/src/per/gpio.h ****         {
 642              		.loc 14 69 57 discriminator 1 view .LVU115
 643 003a C4F89030 		str	r3, [r4, #144]
 644              	.LVL19:
  69:libDaisy/src/per/gpio.h ****         {
 645              		.loc 14 69 57 discriminator 1 view .LVU116
 646              	.LBE588:
 647              	.LBE590:
 648              	.LBE592:
 649              	.LBE594:
 650              	.LBE596:
 651              	.LBE598:
 652              	.LBE634:
 653              	.LBB635:
 654              	.LBI600:
 655              		.loc 14 74 5 is_stmt 1 view .LVU117
 656              	.LBB615:
 657              	.LBB613:
 658              	.LBI602:
  68:libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 659              		.loc 14 68 9 view .LVU118
 660              	.LBB611:
 661              	.LBB609:
 662              	.LBB608:
 663              	.LBI605:
 664              		.loc 12 204 15 view .LVU119
 665              		.loc 12 204 15 is_stmt 0 view .LVU120
 666              	.LBE608:
  69:libDaisy/src/per/gpio.h ****         {
 667              		.loc 14 69 57 discriminator 1 view .LVU121
ARM GAS  /tmp/ccWyZVAv.s 			page 33


 668 003e C4F8AC30 		str	r3, [r4, #172]
 669              	.LVL20:
  69:libDaisy/src/per/gpio.h ****         {
 670              		.loc 14 69 57 discriminator 1 view .LVU122
 671              	.LBE609:
 672              	.LBE611:
 673              	.LBE613:
 674              	.LBE615:
 675              	.LBE635:
 676              	.LBB636:
 677              	.LBI617:
 678              		.loc 14 74 5 is_stmt 1 view .LVU123
 679              	.LBB632:
 680              	.LBB630:
 681              	.LBI619:
  68:libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 682              		.loc 14 68 9 view .LVU124
 683              	.LBB628:
 684              	.LBB626:
 685              	.LBB625:
 686              	.LBI622:
 687              		.loc 12 204 15 view .LVU125
 688              		.loc 12 204 15 is_stmt 0 view .LVU126
 689              	.LBE625:
 690              	.LBE626:
 691              	.LBE628:
 692              	.LBE630:
 693              	.LBE632:
 694              	.LBE636:
 695              	.LBE640:
 696              	.LBE643:
 697              	.LBB644:
 698              	.LBB572:
 699              	.LBB566:
 700              	.LBB500:
 701              	.LBB497:
 702              	.LBB494:
 703              	.LBB491:
  69:libDaisy/src/per/gpio.h ****         {
 704              		.loc 14 69 37 discriminator 1 view .LVU127
 705 0042 C4E90B33 		strd	r3, r3, [r4, #44]
 706              	.LBE491:
 707              	.LBE494:
 708              	.LBE497:
 709              	.LBE500:
 710              	.LBE566:
 711              	.LBB567:
 712              	.LBB532:
 713              	.LBB530:
 714              	.LBB528:
 715              	.LBB526:
 716 0046 C4E91033 		strd	r3, r3, [r4, #64]
 717              	.LBE526:
 718              	.LBE528:
 719              	.LBE530:
 720              	.LBE532:
 721              	.LBE567:
ARM GAS  /tmp/ccWyZVAv.s 			page 34


 722              	.LBB568:
 723              	.LBB552:
 724              	.LBB550:
 725              	.LBB548:
 726              	.LBB546:
 727              	.LBB544:
 728 004a C4E91733 		strd	r3, r3, [r4, #92]
 729              	.LBE544:
 730              	.LBE546:
 731              	.LBE548:
 732              	.LBE550:
 733              	.LBE552:
 734              	.LBE568:
 735              	.LBE572:
 736              	.LBE644:
 737              	.LBB645:
 738              	.LBB641:
 739              	.LBB637:
 740              	.LBB599:
 741              	.LBB597:
 742              	.LBB595:
 743              	.LBB593:
 744              	.LBB591:
 745              	.LBB589:
 746 004e C4E92233 		strd	r3, r3, [r4, #136]
 747              	.LBE589:
 748              	.LBE591:
 749              	.LBE593:
 750              	.LBE595:
 751              	.LBE597:
 752              	.LBE599:
 753              	.LBE637:
 754              	.LBB638:
 755              	.LBB616:
 756              	.LBB614:
 757              	.LBB612:
 758              	.LBB610:
 759 0052 C4E92933 		strd	r3, r3, [r4, #164]
 760              	.LBE610:
 761              	.LBE612:
 762              	.LBE614:
 763              	.LBE616:
 764              	.LBE638:
 765              	.LBB639:
 766              	.LBB633:
 767              	.LBB631:
 768              	.LBB629:
 769              	.LBB627:
 770 0056 C4E92E33 		strd	r3, r3, [r4, #184]
  69:libDaisy/src/per/gpio.h ****         {
 771              		.loc 14 69 57 discriminator 1 view .LVU128
 772 005a C4F8C030 		str	r3, [r4, #192]
 773              	.LVL21:
  69:libDaisy/src/per/gpio.h ****         {
 774              		.loc 14 69 57 discriminator 1 view .LVU129
 775              	.LBE627:
 776              	.LBE629:
ARM GAS  /tmp/ccWyZVAv.s 			page 35


 777              	.LBE631:
 778              	.LBE633:
 779              	.LBE639:
 780              	.LBE641:
 781              	.LBE645:
 782              	.LBB646:
 783              	.LBI646:
  20:libDaisy/src/hid/encoder.h ****     ~Encoder() {}
 784              		.loc 4 20 5 is_stmt 1 view .LVU130
 785              	.LBB647:
 786              	.LBB648:
 787              	.LBI648:
  33:libDaisy/src/hid/switch.h ****     ~Switch() {}
 788              		.loc 3 33 5 view .LVU131
 789              	.LBB649:
 790              	.LBB650:
 791              	.LBI650:
 792              		.loc 14 74 5 view .LVU132
 793              	.LBB651:
 794              	.LBB652:
 795              	.LBI652:
  68:libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 796              		.loc 14 68 9 view .LVU133
 797              	.LBB653:
 798              	.LBB654:
 799              	.LBB655:
 800              	.LBI655:
 801              		.loc 12 204 15 view .LVU134
 802              	.LBB656:
 803              	.LBB657:
 804              		.loc 12 204 23 is_stmt 0 view .LVU135
 805 005e A4F8E010 		strh	r1, [r4, #224]	@ movhi
 806              	.LVL22:
 807              		.loc 12 204 23 view .LVU136
 808              	.LBE657:
 809              	.LBE656:
 810              	.LBE655:
 811              	.LBE654:
 812              	.LBE653:
 813              	.LBE652:
 814              	.LBE651:
 815              	.LBE650:
 816              	.LBE649:
 817              	.LBE648:
 818              	.LBB670:
 819              	.LBB671:
 820              	.LBB672:
 821              	.LBB673:
 822              	.LBB674:
 823              	.LBB675:
 824              	.LBB676:
 825              	.LBB677:
 826 0062 A4F8FC10 		strh	r1, [r4, #252]	@ movhi
 827              	.LBE677:
 828              	.LBE676:
 829              	.LBE675:
 830              	.LBE674:
ARM GAS  /tmp/ccWyZVAv.s 			page 36


 831              	.LBE673:
 832              	.LBE672:
 833              	.LBE671:
 834              	.LBE670:
 835              	.LBB687:
 836              	.LBB688:
 837              	.LBB689:
 838              	.LBB690:
 839              	.LBB691:
 840              	.LBB692:
 841              	.LBB693:
 842              	.LBB694:
 843 0066 A4F81011 		strh	r1, [r4, #272]	@ movhi
 844              	.LBE694:
 845              	.LBE693:
 846              	.LBE692:
 847              	.LBE691:
 848              	.LBE690:
 849              	.LBE689:
 850              	.LBE688:
 851              	.LBE687:
 852              	.LBE647:
 853              	.LBE646:
 854              	.LBB712:
 855              	.LBB713:
 856              	.LBB714:
 857              	.LBB715:
 858              	.LBB716:
 859              	.LBB717:
 860              	.LBB718:
 861              	.LBB719:
 862              	.LBB720:
 863              	.LBB721:
 864 006a A4F83411 		strh	r1, [r4, #308]	@ movhi
 865              	.LBE721:
 866              	.LBE720:
 867              	.LBE719:
 868              	.LBE718:
 869              	.LBE717:
 870              	.LBE716:
 871              	.LBE715:
 872              	.LBE714:
 873              	.LBE713:
 874              	.LBE712:
 875              	.LBB735:
 876              	.LBB736:
 877              	.LBB737:
 878              	.LBB738:
 879              	.LBB739:
 880              	.LBB740:
 881              	.LBB741:
 882              	.LBB742:
 883              	.LBB743:
 884              	.LBB744:
 885 006e A4F85811 		strh	r1, [r4, #344]	@ movhi
 886              	.LBE744:
 887              	.LBE743:
ARM GAS  /tmp/ccWyZVAv.s 			page 37


 888              	.LBE742:
 889              	.LBE741:
 890              	.LBE740:
 891              	.LBE739:
 892              	.LBE738:
 893              	.LBE737:
 894              	.LBE736:
 895              	.LBE735:
 896              	.LBB758:
 897              	.LBB759:
 898              	.LBB760:
 899              	.LBB761:
 900              	.LBB762:
 901              	.LBB763:
 902              	.LBB764:
 903              	.LBB765:
 904              	.LBB766:
 905              	.LBB767:
 906 0072 A4F87C11 		strh	r1, [r4, #380]	@ movhi
 907              	.LBE767:
 908              	.LBE766:
 909              	.LBE765:
 910              	.LBE764:
 911              	.LBE763:
 912              	.LBE762:
 913              	.LBE761:
 914              	.LBE760:
 915              	.LBE759:
 916              	.LBE758:
 917              	.LBB781:
 918              	.LBB710:
 919              	.LBB704:
 920              	.LBB668:
 921              	.LBB666:
 922              	.LBB664:
 923              	.LBB662:
 924              	.LBB660:
 925              	.LBB658:
  69:libDaisy/src/per/gpio.h ****         {
 926              		.loc 14 69 57 discriminator 1 view .LVU137
 927 0076 C4F8EC30 		str	r3, [r4, #236]
 928              	.LVL23:
  69:libDaisy/src/per/gpio.h ****         {
 929              		.loc 14 69 57 discriminator 1 view .LVU138
 930              	.LBE658:
 931              	.LBE660:
 932              	.LBE662:
 933              	.LBE664:
 934              	.LBE666:
 935              	.LBE668:
 936              	.LBE704:
 937              	.LBB705:
 938              	.LBI670:
 939              		.loc 14 74 5 is_stmt 1 view .LVU139
 940              	.LBB685:
 941              	.LBB683:
 942              	.LBI672:
ARM GAS  /tmp/ccWyZVAv.s 			page 38


  68:libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 943              		.loc 14 68 9 view .LVU140
 944              	.LBB681:
 945              	.LBB679:
 946              	.LBB678:
 947              	.LBI675:
 948              		.loc 12 204 15 view .LVU141
 949              		.loc 12 204 15 is_stmt 0 view .LVU142
 950              	.LBE678:
  69:libDaisy/src/per/gpio.h ****         {
 951              		.loc 14 69 57 discriminator 1 view .LVU143
 952 007a C4F80831 		str	r3, [r4, #264]
 953              	.LVL24:
  69:libDaisy/src/per/gpio.h ****         {
 954              		.loc 14 69 57 discriminator 1 view .LVU144
 955              	.LBE679:
 956              	.LBE681:
 957              	.LBE683:
 958              	.LBE685:
 959              	.LBE705:
 960              	.LBB706:
 961              	.LBI687:
 962              		.loc 14 74 5 is_stmt 1 view .LVU145
 963              	.LBB702:
 964              	.LBB700:
 965              	.LBI689:
  68:libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 966              		.loc 14 68 9 view .LVU146
 967              	.LBB698:
 968              	.LBB696:
 969              	.LBB695:
 970              	.LBI692:
 971              		.loc 12 204 15 view .LVU147
 972              		.loc 12 204 15 is_stmt 0 view .LVU148
 973              	.LBE695:
  69:libDaisy/src/per/gpio.h ****         {
 974              		.loc 14 69 57 discriminator 1 view .LVU149
 975 007e C4F81C31 		str	r3, [r4, #284]
 976              	.LVL25:
  69:libDaisy/src/per/gpio.h ****         {
 977              		.loc 14 69 57 discriminator 1 view .LVU150
 978              	.LBE696:
 979              	.LBE698:
 980              	.LBE700:
 981              	.LBE702:
 982              	.LBE706:
 983              	.LBE710:
 984              	.LBE781:
 985              	.LBB782:
 986              	.LBI712:
  33:libDaisy/src/hid/switch.h ****     ~Switch() {}
 987              		.loc 3 33 5 is_stmt 1 view .LVU151
 988              	.LBB733:
 989              	.LBB731:
 990              	.LBI714:
 991              		.loc 14 74 5 view .LVU152
 992              	.LBB729:
ARM GAS  /tmp/ccWyZVAv.s 			page 39


 993              	.LBB727:
 994              	.LBI716:
  68:libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 995              		.loc 14 68 9 view .LVU153
 996              	.LBB725:
 997              	.LBB723:
 998              	.LBB722:
 999              	.LBI719:
 1000              		.loc 12 204 15 view .LVU154
 1001              		.loc 12 204 15 is_stmt 0 view .LVU155
 1002              	.LBE722:
  69:libDaisy/src/per/gpio.h ****         {
 1003              		.loc 14 69 57 discriminator 1 view .LVU156
 1004 0082 C4F84031 		str	r3, [r4, #320]
 1005              	.LVL26:
  69:libDaisy/src/per/gpio.h ****         {
 1006              		.loc 14 69 57 discriminator 1 view .LVU157
 1007              	.LBE723:
 1008              	.LBE725:
 1009              	.LBE727:
 1010              	.LBE729:
 1011              	.LBE731:
 1012              	.LBE733:
 1013              	.LBE782:
 1014              	.LBB783:
 1015              	.LBI735:
  33:libDaisy/src/hid/switch.h ****     ~Switch() {}
 1016              		.loc 3 33 5 is_stmt 1 view .LVU158
 1017              	.LBB756:
 1018              	.LBB754:
 1019              	.LBI737:
 1020              		.loc 14 74 5 view .LVU159
 1021              	.LBB752:
 1022              	.LBB750:
 1023              	.LBI739:
  68:libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 1024              		.loc 14 68 9 view .LVU160
 1025              	.LBB748:
 1026              	.LBB746:
 1027              	.LBB745:
 1028              	.LBI742:
 1029              		.loc 12 204 15 view .LVU161
 1030              		.loc 12 204 15 is_stmt 0 view .LVU162
 1031              	.LBE745:
  69:libDaisy/src/per/gpio.h ****         {
 1032              		.loc 14 69 57 discriminator 1 view .LVU163
 1033 0086 C4F86431 		str	r3, [r4, #356]
 1034              	.LVL27:
  69:libDaisy/src/per/gpio.h ****         {
 1035              		.loc 14 69 57 discriminator 1 view .LVU164
 1036              	.LBE746:
 1037              	.LBE748:
 1038              	.LBE750:
 1039              	.LBE752:
 1040              	.LBE754:
 1041              	.LBE756:
 1042              	.LBE783:
ARM GAS  /tmp/ccWyZVAv.s 			page 40


 1043              	.LBB784:
 1044              	.LBI758:
  33:libDaisy/src/hid/switch.h ****     ~Switch() {}
 1045              		.loc 3 33 5 is_stmt 1 view .LVU165
 1046              	.LBB779:
 1047              	.LBB777:
 1048              	.LBI760:
 1049              		.loc 14 74 5 view .LVU166
 1050              	.LBB775:
 1051              	.LBB773:
 1052              	.LBI762:
  68:libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 1053              		.loc 14 68 9 view .LVU167
 1054              	.LBB771:
 1055              	.LBB769:
 1056              	.LBB768:
 1057              	.LBI765:
 1058              		.loc 12 204 15 view .LVU168
 1059              		.loc 12 204 15 is_stmt 0 view .LVU169
 1060              	.LBE768:
  69:libDaisy/src/per/gpio.h ****         {
 1061              		.loc 14 69 57 discriminator 1 view .LVU170
 1062 008a C4F88831 		str	r3, [r4, #392]
 1063              	.LVL28:
  69:libDaisy/src/per/gpio.h ****         {
 1064              		.loc 14 69 57 discriminator 1 view .LVU171
 1065              	.LBE769:
 1066              	.LBE771:
 1067              	.LBE773:
 1068              	.LBE775:
 1069              	.LBE777:
 1070              	.LBE779:
 1071              	.LBE784:
 1072              		.loc 2 11 8 discriminator 6 view .LVU172
 1073 008e 84F8AC31 		strb	r3, [r4, #428]
 1074 0092 C4F8B831 		str	r3, [r4, #440]
 1075              	.LVL29:
 1076              		.loc 2 11 8 discriminator 6 view .LVU173
 1077              	.LBE790:
 1078              	.LBE793:
   6:BlackBox.cpp  **** static Hardware   g_hw;
 1079              		.loc 1 6 19 discriminator 1 view .LVU174
 1080 0096 0D49     		ldr	r1, .L20+8
 1081              	.LBB794:
 1082              	.LBB791:
 1083              	.LBB785:
 1084              	.LBB711:
 1085              	.LBB707:
 1086              	.LBB669:
 1087              	.LBB667:
 1088              	.LBB665:
 1089              	.LBB663:
 1090              	.LBB661:
 1091              	.LBB659:
  69:libDaisy/src/per/gpio.h ****         {
 1092              		.loc 14 69 37 discriminator 1 view .LVU175
 1093 0098 C4E93933 		strd	r3, r3, [r4, #228]
ARM GAS  /tmp/ccWyZVAv.s 			page 41


 1094              	.LBE659:
 1095              	.LBE661:
 1096              	.LBE663:
 1097              	.LBE665:
 1098              	.LBE667:
 1099              	.LBE669:
 1100              	.LBE707:
 1101              	.LBB708:
 1102              	.LBB686:
 1103              	.LBB684:
 1104              	.LBB682:
 1105              	.LBB680:
 1106 009c C4E94033 		strd	r3, r3, [r4, #256]
 1107              	.LBE680:
 1108              	.LBE682:
 1109              	.LBE684:
 1110              	.LBE686:
 1111              	.LBE708:
 1112              	.LBB709:
 1113              	.LBB703:
 1114              	.LBB701:
 1115              	.LBB699:
 1116              	.LBB697:
 1117 00a0 C4E94533 		strd	r3, r3, [r4, #276]
 1118              	.LBE697:
 1119              	.LBE699:
 1120              	.LBE701:
 1121              	.LBE703:
 1122              	.LBE709:
 1123              	.LBE711:
 1124              	.LBE785:
 1125              	.LBB786:
 1126              	.LBB734:
 1127              	.LBB732:
 1128              	.LBB730:
 1129              	.LBB728:
 1130              	.LBB726:
 1131              	.LBB724:
 1132 00a4 C4E94E33 		strd	r3, r3, [r4, #312]
 1133              	.LBE724:
 1134              	.LBE726:
 1135              	.LBE728:
 1136              	.LBE730:
 1137              	.LBE732:
 1138              	.LBE734:
 1139              	.LBE786:
 1140              	.LBB787:
 1141              	.LBB757:
 1142              	.LBB755:
 1143              	.LBB753:
 1144              	.LBB751:
 1145              	.LBB749:
 1146              	.LBB747:
 1147 00a8 C4E95733 		strd	r3, r3, [r4, #348]
 1148              	.LBE747:
 1149              	.LBE749:
 1150              	.LBE751:
ARM GAS  /tmp/ccWyZVAv.s 			page 42


 1151              	.LBE753:
 1152              	.LBE755:
 1153              	.LBE757:
 1154              	.LBE787:
 1155              	.LBB788:
 1156              	.LBB780:
 1157              	.LBB778:
 1158              	.LBB776:
 1159              	.LBB774:
 1160              	.LBB772:
 1161              	.LBB770:
 1162 00ac C4E96033 		strd	r3, r3, [r4, #384]
 1163              	.LBE770:
 1164              	.LBE772:
 1165              	.LBE774:
 1166              	.LBE776:
 1167              	.LBE778:
 1168              	.LBE780:
 1169              	.LBE788:
 1170              		.loc 2 11 8 discriminator 6 view .LVU176
 1171 00b0 C4E96633 		strd	r3, r3, [r4, #408]
 1172 00b4 C4E96933 		strd	r3, r3, [r4, #420]
 1173 00b8 C4E96C33 		strd	r3, r3, [r4, #432]
 1174              	.LBE791:
 1175              	.LBE794:
 1176              	.LBE795:
 1177              	.LBE797:
 1178              		.loc 1 43 1 view .LVU177
 1179 00bc 5DF8044B 		ldr	r4, [sp], #4
 1180              		.cfi_restore 4
 1181              		.cfi_def_cfa_offset 0
 1182              	.LBB798:
 1183              	.LBB796:
   6:BlackBox.cpp  **** static Hardware   g_hw;
 1184              		.loc 1 6 19 discriminator 1 view .LVU178
 1185 00c0 FFF7FEBF 		b	__aeabi_atexit
 1186              	.LVL30:
 1187              	.L21:
 1188              		.align	2
 1189              	.L20:
 1190 00c4 00000000 		.word	__dso_handle
 1191 00c8 00000000 		.word	_ZL4g_hw
 1192 00cc 00000000 		.word	_ZN8HardwareD1Ev
 1193              	.LBE796:
 1194              	.LBE798:
 1195              		.cfi_endproc
 1196              	.LFE5557:
 1198              		.section	.init_array,"aw",%init_array
 1199              		.align	2
 1200 0000 00000000 		.word	_GLOBAL__sub_I__Z13AudioCallbackPKPKfPPfj(target1)
 1201              		.section	.bss._ZL8g_screen,"aw",%nobits
 1202              		.align	2
 1205              	_ZL8g_screen:
 1206 0000 00000000 		.space	8
 1206      00000000 
 1207              		.section	.bss._ZL4g_hw,"aw",%nobits
 1208              		.align	2
ARM GAS  /tmp/ccWyZVAv.s 			page 43


 1211              	_ZL4g_hw:
 1212 0000 00000000 		.space	444
 1212      00000000 
 1212      00000000 
 1212      00000000 
 1212      00000000 
 1213              		.text
 1214              	.Letext0:
 1215              		.file 16 "/usr/arm-none-eabi/include/machine/_default_types.h"
 1216              		.file 17 "/usr/arm-none-eabi/include/sys/_stdint.h"
 1217              		.file 18 "/usr/arm-none-eabi/include/stdint.h"
 1218              		.file 19 "/usr/lib/gcc/arm-none-eabi/14.2.0/include/stddef.h"
 1219              		.file 20 "/usr/arm-none-eabi/include/c++/14.2.0/cmath"
 1220              		.file 21 "/usr/arm-none-eabi/include/c++/14.2.0/bits/std_abs.h"
 1221              		.file 22 "/usr/arm-none-eabi/include/c++/14.2.0/cstdlib"
 1222              		.file 23 "/usr/arm-none-eabi/include/c++/14.2.0/cstdint"
 1223              		.file 24 "/usr/arm-none-eabi/include/c++/14.2.0/type_traits"
 1224              		.file 25 "/usr/arm-none-eabi/include/c++/14.2.0/debug/debug.h"
 1225              		.file 26 "/usr/arm-none-eabi/include/c++/14.2.0/cstdarg"
 1226              		.file 27 "/usr/arm-none-eabi/include/c++/14.2.0/cstdio"
 1227              		.file 28 "/usr/arm-none-eabi/include/c++/14.2.0/cstring"
 1228              		.file 29 "/usr/arm-none-eabi/include/c++/14.2.0/cwchar"
 1229              		.file 30 "/usr/arm-none-eabi/include/c++/14.2.0/clocale"
 1230              		.file 31 "/usr/arm-none-eabi/include/c++/14.2.0/bits/stl_pair.h"
 1231              		.file 32 "/usr/arm-none-eabi/include/c++/14.2.0/bits/charconv.h"
 1232              		.file 33 "/usr/arm-none-eabi/include/c++/14.2.0/bits/predefined_ops.h"
 1233              		.file 34 "/usr/arm-none-eabi/include/sys/_types.h"
 1234              		.file 35 "/usr/arm-none-eabi/include/sys/reent.h"
 1235              		.file 36 "/usr/arm-none-eabi/include/sys/lock.h"
 1236              		.file 37 "/usr/arm-none-eabi/include/math.h"
 1237              		.file 38 "/usr/arm-none-eabi/include/stdlib.h"
 1238              		.file 39 "/usr/arm-none-eabi/include/c++/14.2.0/math.h"
 1239              		.file 40 "/usr/arm-none-eabi/include/c++/14.2.0/stdlib.h"
 1240              		.file 41 "/usr/arm-none-eabi/include/c++/14.2.0/arm-none-eabi/thumb/v7e-m+dp/hard/bits/c++config.h
 1241              		.file 42 "libDaisy/src/util/wav_format.h"
 1242              		.file 43 "libDaisy/src/dev/sr_595.h"
 1243              		.file 44 "libDaisy/src/dev/max11300.h"
 1244              		.file 45 "libDaisy/src/dev/sdram.h"
 1245              		.file 46 "/usr/lib/gcc/arm-none-eabi/14.2.0/include/stdarg.h"
 1246              		.file 47 "/usr/arm-none-eabi/include/stdio.h"
 1247              		.file 48 "/usr/arm-none-eabi/include/string.h"
 1248              		.file 49 "DaisySP/Source/Control/adenv.h"
 1249              		.file 50 "DaisySP/Source/Utility/dsp.h"
 1250              		.file 51 "/usr/arm-none-eabi/include/wchar.h"
 1251              		.file 52 "/usr/arm-none-eabi/include/locale.h"
 1252              		.file 53 "processing.h"
 1253              		.file 54 "screen.h"
 1254              		.file 55 "<built-in>"
ARM GAS  /tmp/ccWyZVAv.s 			page 44


DEFINED SYMBOLS
                            *ABS*:00000000 BlackBox.cpp
     /tmp/ccWyZVAv.s:20     .text._ZN8HardwareD2Ev:00000000 $t
     /tmp/ccWyZVAv.s:27     .text._ZN8HardwareD2Ev:00000000 _ZN8HardwareD2Ev
     /tmp/ccWyZVAv.s:27     .text._ZN8HardwareD2Ev:00000000 _ZN8HardwareD1Ev
     /tmp/ccWyZVAv.s:116    .text._Z13AudioCallbackPKPKfPPfj:00000000 $t
     /tmp/ccWyZVAv.s:123    .text._Z13AudioCallbackPKPKfPPfj:00000000 _Z13AudioCallbackPKPKfPPfj
     /tmp/ccWyZVAv.s:186    .text._Z13AudioCallbackPKPKfPPfj:00000034 $d
     /tmp/ccWyZVAv.s:1211   .bss._ZL4g_hw:00000000 _ZL4g_hw
     /tmp/ccWyZVAv.s:191    .text.startup.main:00000000 $t
     /tmp/ccWyZVAv.s:198    .text.startup.main:00000000 main
     /tmp/ccWyZVAv.s:246    .text.startup.main:00000028 $d
     /tmp/ccWyZVAv.s:1205   .bss._ZL8g_screen:00000000 _ZL8g_screen
     /tmp/ccWyZVAv.s:253    .text.startup._GLOBAL__sub_I__Z13AudioCallbackPKPKfPPfj:00000000 $t
     /tmp/ccWyZVAv.s:259    .text.startup._GLOBAL__sub_I__Z13AudioCallbackPKPKfPPfj:00000000 _GLOBAL__sub_I__Z13AudioCallbackPKPKfPPfj
     /tmp/ccWyZVAv.s:1190   .text.startup._GLOBAL__sub_I__Z13AudioCallbackPKPKfPPfj:000000c4 $d
     /tmp/ccWyZVAv.s:1199   .init_array:00000000 $d
     /tmp/ccWyZVAv.s:1202   .bss._ZL8g_screen:00000000 $d
     /tmp/ccWyZVAv.s:1208   .bss._ZL4g_hw:00000000 $d
                           .group:00000000 _ZN8HardwareD5Ev

UNDEFINED SYMBOLS
_ZN8Hardware19ProcessTestControlsEv
_ZN8Hardware4InitEv
_ZN6Screen4InitERN5daisy9DaisySeedE
_ZN5daisy9DaisySeed10StartAudioEPFvPKPKfPPfjE
_ZN6Screen16DrawHardwareTestER8Hardware
_ZN5daisy6System5DelayEm
__aeabi_atexit
__dso_handle
